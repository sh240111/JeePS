
<!doctype html>
  <html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>JeePS • Main Map</title>
    <link rel="stylesheet" href="styles.css" />
    <!-- Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  </head>
  <body>
    <div class="app">
      <aside class="sidebar">
        <a class="brand" href="index.html">
          <img alt="Logo placeholder" src="Assets/JEEPS PNG WITH OUTLINE.png" />
          <div class="title">
            <strong data-i18n="brand_name">JeePS</strong>
            <span data-i18n="brand_tagline">Routa de mga vivientes</span>
    
        </a>

        <nav class="nav" aria-label="Site navigation">
          <a href="index.html"><span data-i18n="nav_home">Main Page</span><span>›</span></a>
          <a href="map.html"><span data-i18n="nav_map">Main Map</span><span>›</span></a>
          <a href="about.html"><span data-i18n="nav_about">About</span><span>›</span></a>
          <a href="faqs.html"><span data-i18n="nav_faqs">FAQs</span><span>›</span></a>
          <a href="contact.html"><span data-i18n="nav_contact">Contact</span><span>›</span></a>
          <a href="blog.html"><span data-i18n="nav_blog">Blog</span><span>›</span></a>
        </nav>



        <div class="sidebar-footer" data-i18n="footer_note">Prototype build • Content is replaceable</div>
      </aside>

      <main class="main">
        <div class="header">
          <div class="hgroup">
            <h1 data-i18n="map_title">Main Map</h1>
            <p data-i18n="map_sub">Interactable map with routes, paradahan locations, and search.</p>
          </div>
        </div>

        <section class="card map-wrap">
       <div class="map-tools map-tools--sticky">
  <!-- Left: Routes dropdown button -->
  <button class="btn secondary" id="routesMenuBtn" type="button">
    Routes
  </button>


  
  <!-- Search (with dropdown results) -->
  <div class="search-wrap">
    <label class="search" aria-label="Search">
      <span style="color:var(--red);font-weight:900">⌕</span>
      <input id="searchInput" type="text"
        placeholder="Search paradahan (e.g., Downtown Terminal)" />
    </label>

    <!-- Search dropdown results (NOT the bottom list anymore) -->
    <div class="search-dropdown" id="searchDropdown" style="display:none;">
      <div class="search-dropdown-head">
        <strong>Results</strong>
        <span class="badge" id="resultsCount">0</span>
      </div>
      <div class="search-dropdown-list" id="resultsList"></div>
      <div class="search-dropdown-empty" id="noResults" style="display:none;">
        No results
      </div>
    </div>
  </div>

  <!-- Right: global toggles -->
  <div class="tool-actions">
    <button class="btn secondary" id="toggleRoutes" type="button">All Routes</button>
    <button class="btn secondary" id="toggleParadahan" type="button">All Paradahan</button>
  </div>
</div>

<!-- Collapsible Routes Panel -->
<div class="routes-panel" id="routesPanel" style="display:none;">
  <div class="routes-panel-head">
    <strong>Routes</strong>
    <button class="btn secondary" id="routesCloseBtn" type="button">Close</button>
  </div>

  <div class="routes-grid" id="routesGrid">
    <!-- Buttons are generated by JS (cleaner, scalable) -->
  </div>

  <div class="routes-panel-foot">
    <button class="btn secondary" id="clearSelectedRouteBtn" type="button">
      Clear Selection
    </button>
  </div>
</div>

          <div id="map"></div>

    
            
            
              
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Language Modal -->
    <div class="modal" id="langModal" role="dialog" aria-modal="true" aria-labelledby="langTitle">
      <div class="modal-panel">
        <div class="modal-head">
          <div>
            <h2 id="langTitle" data-i18n="modal_title">Choose your language</h2>
            <p data-i18n="modal_body">
              This website supports multiple languages. You can change it anytime using the Language button in the sidebar.
            </p>
          </div>
          <button id="closeLangModal" type="button" aria-label="Close" data-i18n="modal_close">Close</button>
        </div>
        <div class="lang-grid" id="langOptions"></div>
      </div>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="app.js"></script>
    

    <script>
    // =======================
// TUGBUNGAN
// =======================
const tugbunganTown = {
  name: "TUGBUNGAN PARADAHAN (TOWN)",  lat: 6.905833,  lng: 122.077139,  desc: "Town/City terminal",  routeKey: "tugbungan"};
const tugbunganTugbungan = {
  name: "TUGBUNGAN PARADAHAN (TUGBUNGAN)", lat: 6.919667, lng: 122.107389, desc: "Tugbungan terminal", routeKey: "tugbungan"};
// LUNZURAN
const lunzuranTown = { name: "LUNZURAN TOWN TERMINAL", lat: 6.905234, lng: 122.077585, desc: "Town terminal", routeKey: "lunzuran"};
const lunzuranBarangay = { name: "LUNZURAN BARANGAY PARADAHAN", lat: 6.959466, lng: 122.090664, desc: "Barangay terminal", routeKey: "lunzuran"};
// ZAMBOWOOD
const zambowoodTown = { name: "ZAMBOWOOD TOWN TERMINAL", lat: 6.907287, lng: 122.078464, desc: "Town terminal", routeKey: "zambowood"};
const zambowoodBarangay = {name: "ZAMBOWOOD BARANGAY PARADAHAN", lat: 6.942152, lng: 122.132518, desc: "Barangay terminal", routeKey: "zambowood"};
// TETUAN
const tetuanTown = { name: "TETUAN TOWN TERMINAL", lat: 6.905531, lng: 122.076982, desc: "Town terminal", routeKey: "tetuan"};
const tetuanBarangay = { name: "TETUAN BARANGAY PARADAHAN", lat: 6.916280, lng: 122.090255, desc: "Barangay terminal", routeKey: "tetuan"};
// CANELAR
const canelarTown = { name: "CANELAR TOWN TERMINAL", lat: 6.906626, lng: 122.075211, desc: "Town terminal", routeKey: "canelar"};
const canelarParadahan = { name: "CANELAR PARADAHAN", lat: 6.920724, lng: 122.071903, desc: "Barangay terminal", routeKey: "canelar"};
// DIVISORIA
const divisoriaTown = { name: "DIVISORIA TOWN TERMINAL", lat: 6.905519,lng: 122.076996, desc: "Town terminal", routeKey: "divisoria"};
const divisoriaParadahan = { name: "DIVISORIA PARADAHAN", lat: 6.949110, lng: 122.106189, desc: "Barangay terminal", routeKey: "divisoria"};
// STA. MARIA
const staMariaTown = {name: "STA. MARIA TOWN TERMINAL",lat: 6.907386, lng: 122.075257, desc: "Town terminal", routeKey: "stamaria"};
const staMariaParadahan = { name: "STA. MARIA PARADAHAN", lat: 6.930502, lng: 122.069038, desc: "Barangay terminal", routeKey: "stamaria"};
// TUMAGA
const tumagaTown = { name: "TUMAGA TOWN TERMINAL", lat: 6.905832, lng: 122.077211, desc: "Town terminal", routeKey: "tumaga"};
const tumagaParadahan = { name: "TUMAGA PARADAHAN", lat: 6.929994, lng: 122.078757, desc: "Barangay terminal", routeKey: "tumaga"};
// PASONANCA
const pasonancaTown = { name: "PASONANCA TOWN TERMINAL", lat: 6.907156, lng: 122.075326, desc: "Town terminal", routeKey: "pasonanca"};
const pasonancaParadahan = { name: "PASONANCA PARADAHAN", lat: 6.956613, lng: 122.074028, desc: "Barangay terminal", routeKey: "pasonanca"};
// BALIWASAN
const baliwasanTown = {name: "BALIWASAN TOWN TERMINAL", lat: 6.906207,lng: 122.073302, desc: "Town terminal", routeKey: "baliwasan"};
const baliwasanParadahan = { name: "BALIWASAN PARADAHAN", lat: 6.919188, lng: 122.054935, desc: "Barangay terminal", routeKey: "baliwasan"};
// MERCEDES
const mercedesTown = { name: "MERCEDES TOWN TERMINAL", lat: 6.905469, lng: 122.077135, desc: "Town terminal", routeKey: "mercedes"};
const mercedesParadahan = { name: "MERCEDES PARADAHAN", lat: 6.957417, lng: 122.143943, desc: "Barangay terminal", routeKey: "mercedes"};
// SAN ROQUE
const sanRoqueTown = { name: "SAN ROQUE TOWN TERMINAL", lat: 6.907862, lng: 122.072835, desc: "Town terminal", routeKey: "sanroque"};
const sanRoqueParadahan = { name: "SAN ROQUE PARADAHAN", lat: 6.929012, lng: 122.048427, desc: "Barangay terminal", routeKey: "sanroque"};
// AYALA
const ayalaTown = { name: "AYALA TOWN TERMINAL", lat: 6.905319, lng: 122.073718, desc: "Town terminal", routeKey: "ayala"};
const ayalaParadahan = { name: "AYALA PARADAHAN", lat: 6.969238, lng: 121.947044, desc: "Barangay terminal", routeKey: "ayala"};
// SAN RAMON
const sanRamonTown = { name: "SAN RAMON TOWN TERMINAL", lat: 6.905615, lng: 122.073669, desc: "Town terminal", routeKey: "sanramon"};
const sanRamonParadahan = { name: "SAN RAMON PARADAHAN", lat: 7.007073, lng: 121.922374, desc: "Barangay terminal", routeKey: "sanramon"};
// UPPER CALARIAN
const upperCalarianTown = { name: "UPPER CALARIAN TOWN TERMINAL", lat: 6.917952, lng: 122.056914, desc: "Town terminal", routeKey: "uppercalarian"};
const upperCalarianParadahan = { name: "UPPER CALARIAN PARADAHAN", lat: 6.921230, lng: 122.036551, desc: "Barangay terminal", routeKey: "uppercalarian"};



    

 




    const map = L.map('map').setView(
      [(tugbunganTown.lat + tugbunganTugbungan.lat) / 2, (tugbunganTown.lng + tugbunganTugbungan.lng) / 2],
      13
    );

    

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Paradahan data (ONLY Tugbugan route terminals for now)
  const paradahan = [
  // Tugbungan
  tugbunganTown,
  tugbunganTugbungan,

  // Lunzuran
  lunzuranTown,
  lunzuranBarangay,

  // Zambowood
zambowoodTown,
zambowoodBarangay,

// Tetuan
tetuanTown,
tetuanBarangay,

// Canelar
canelarTown,
canelarParadahan



];


    // Route data (ONLY Tugbugan route for now)
    // NOTE: This is a straight polyline placeholder between terminals.
    // We can later replace coords with the full road-following polyline.

    // Route layers (per route)
// =============================
// ROUTES (single source of truth)
// =============================

// Route layers (MUST exist before ROUTES)
const tugbunganRouteLayer = L.layerGroup();
const lunzuranRouteLayer  = L.layerGroup();
const zambowoodRouteLayer = L.layerGroup();
const tetuanRouteLayer    = L.layerGroup();
const canelarRouteLayer   = L.layerGroup();
const divisoriaRouteLayer = L.layerGroup();
const staMariaRouteLayer  = L.layerGroup();
const tumagaRouteLayer    = L.layerGroup();
const pasonancaRouteLayer = L.layerGroup();
const baliwasanRouteLayer = L.layerGroup();
const mercedesRouteLayer  = L.layerGroup();
const sanRoqueRouteLayer  = L.layerGroup();
const ayalaRouteLayer     = L.layerGroup();
const sanRamonRouteLayer  = L.layerGroup();
const upperCalarianRouteLayer = L.layerGroup();

// Paradahan layers (per route terminals)
const tugbunganParadahanLayer = L.layerGroup();
const lunzuranParadahanLayer = L.layerGroup();
const zambowoodParadahanLayer = L.layerGroup();
const tetuanParadahanLayer = L.layerGroup();
const canelarParadahanLayer = L.layerGroup();
const divisoriaParadahanLayer = L.layerGroup();
const staMariaParadahanLayer = L.layerGroup();
const tumagaParadahanLayer = L.layerGroup();
const pasonancaParadahanLayer = L.layerGroup();
const baliwasanParadahanLayer = L.layerGroup();
const mercedesParadahanLayer = L.layerGroup();
const sanRoqueParadahanLayer = L.layerGroup();
const ayalaParadahanLayer = L.layerGroup();
const sanRamonParadahanLayer = L.layerGroup();
const upperCalarianParadahanLayer = L.layerGroup();

const STOPS = {
  tugbungan: tugbunganParadahanLayer,
  lunzuran: lunzuranParadahanLayer,
  zambowood: zambowoodParadahanLayer,
  tetuan: tetuanParadahanLayer,
  canelar: canelarParadahanLayer,
  divisoria: divisoriaParadahanLayer,
  stamaria: staMariaParadahanLayer,
  tumaga: tumagaParadahanLayer,
  pasonanca: pasonancaParadahanLayer,
  baliwasan: baliwasanParadahanLayer,
  mercedes: mercedesParadahanLayer,
  sanroque: sanRoqueParadahanLayer,
  ayala: ayalaParadahanLayer,
  sanramon: sanRamonParadahanLayer,
  uppercalarian: upperCalarianParadahanLayer,
};


const ROUTES = {
  tugbungan: { label: "Tugbungan", layer: tugbunganRouteLayer },
  lunzuran:  { label: "Lunzuran",  layer: lunzuranRouteLayer },
  zambowood: { label: "Zambowood", layer: zambowoodRouteLayer },
  tetuan:    { label: "Tetuan",    layer: tetuanRouteLayer },
  canelar:   { label: "Canelar",   layer: canelarRouteLayer },
  divisoria: { label: "Divisoria", layer: divisoriaRouteLayer },
  stamaria:  { label: "Sta. Maria",layer: staMariaRouteLayer },
  tumaga:    { label: "Tumaga",    layer: tumagaRouteLayer },
  pasonanca: { label: "Pasonanca", layer: pasonancaRouteLayer },
  baliwasan: { label: "Baliwasan", layer: baliwasanRouteLayer },
  mercedes:  { label: "Mercedes",  layer: mercedesRouteLayer },
  sanroque:  { label: "San Roque", layer: sanRoqueRouteLayer },
  ayala: { label: "Ayala", layer: ayalaRouteLayer },
  sanramon: { label: "San Ramon", layer: sanRamonRouteLayer },
  uppercalarian: { label: "Upper Calarian", layer: upperCalarianRouteLayer },
};


function setStopsDim(stopsLayerGroup, dim) {
  if (!stopsLayerGroup) return;

  stopsLayerGroup.eachLayer(m => {
    // Leaflet markers
    if (m && typeof m.setOpacity === "function") {
      m.setOpacity(dim ? 0.25 : 1.0);

      // If you use custom icons and want them dimmed too:
      if (m._icon) m._icon.style.opacity = dim ? "0.25" : "1";
      if (m._shadow) m._shadow.style.opacity = dim ? "0.25" : "1";
    }
  });
}


// Dim/highlight helper
function setGroupDim(layerGroup, dim) {
  layerGroup.eachLayer(l => {
    if (l && typeof l.setStyle === "function") {
      l.setStyle({
        opacity: dim ? 0.20 : 0.90,
        weight:  dim ? 4 : 6
      });
      if (!dim && l.bringToFront) l.bringToFront();
    }
  });
}

function clearAllDimming() {
  // Undim all routes
  Object.values(ROUTES).forEach(r => setGroupDim(r.layer, false));
  // Undim all stops
  Object.keys(STOPS).forEach(k => setStopsDim(STOPS[k], false));

  // Also clear active route button highlight (optional)
  document.querySelectorAll(".route-btn").forEach(b => b.classList.remove("active"));

  selectedRouteKey = "";
}

function focusStop(item) {
  if (!item || !item.routeKey) return;

  // Ensure layers are visible, otherwise dimming looks like "everything disappeared"
  if (!map.hasLayer(allRoutesLayer)) allRoutesLayer.addTo(map);
  if (!map.hasLayer(allParadahanLayer)) allParadahanLayer.addTo(map);

  selectedRouteKey = item.routeKey;

  // Dim all others, undim selected
  Object.entries(ROUTES).forEach(([k, r]) => {
    const dim = k !== selectedRouteKey;
    setGroupDim(r.layer, dim);
    setStopsDim(STOPS[k], dim);

    const btn = document.querySelector(`.route-btn[data-route="${k}"]`);
    if (btn) btn.classList.toggle("active", k === selectedRouteKey);
  });

  // Zoom + popup
  if (item.marker) {
    map.setView(item.marker.getLatLng(), 16, { animate: true });
    item.marker.openPopup();
  } else {
    map.setView([item.lat, item.lng], 16, { animate: true });
  }
}


function selectRoute(key) {
  // Click again to clear selection
  if (selectedRouteKey === key) key = "";

  selectedRouteKey = key;

  // Dim other visible routes
Object.entries(ROUTES).forEach(([k, r]) => {
  const dim = selectedRouteKey && k !== selectedRouteKey;

  // Dim route polyline(s)
  setGroupDim(r.layer, dim);

  // Dim stops (markers) that belong to the route
  setStopsDim(STOPS[k], dim);

  const btn = document.querySelector(`.route-btn[data-route="${k}"]`);
  if (btn) btn.classList.toggle("active", selectedRouteKey === k);
});
}

// Toggle a single route ON/OFF inside allRoutesLayer
function toggleSingleRoute(key) {
  const r = ROUTES[key];
  if (!r) return;

  // IMPORTANT: toggle inside allRoutesLayer, not map directly
  if (allRoutesLayer.hasLayer(r.layer)) {
    allRoutesLayer.removeLayer(r.layer);
  } else {
    allRoutesLayer.addLayer(r.layer);
  }

  // After toggling, apply dim/highlight rules
  selectRoute(selectedRouteKey);
}

// =============================
// ROUTES PANEL + ROUTE SELECT (KEEP ONLY ONE COPY)
// =============================
const routesMenuBtn = document.getElementById("routesMenuBtn");
const routesPanel = document.getElementById("routesPanel");
const routesCloseBtn = document.getElementById("routesCloseBtn");
const routesGrid = document.getElementById("routesGrid");
const clearSelectedRouteBtn = document.getElementById("clearSelectedRouteBtn");

let selectedRouteKey = "";

function setGroupDim(layerGroup, dim) {
  if (!layerGroup) return;
  layerGroup.eachLayer(l => {
    if (l && typeof l.setStyle === "function") {
      l.setStyle({
        opacity: dim ? 0.20 : 0.90,
        weight: dim ? 4 : 6
      });
      if (!dim && l.bringToFront) l.bringToFront();
    }
  });
}

function setStopsDim(stopsLayerGroup, dim) {
  if (!stopsLayerGroup) return;
  stopsLayerGroup.eachLayer(m => {
    if (m && typeof m.setOpacity === "function") {
      m.setOpacity(dim ? 0.25 : 1.0);
      if (m._icon) m._icon.style.opacity = dim ? "0.25" : "1";
      if (m._shadow) m._shadow.style.opacity = dim ? "0.25" : "1";
    }
  });
}

function selectRoute(key) {
  if (selectedRouteKey === key) key = "";
  selectedRouteKey = key;

  // ensure routes are visible
  if (!map.hasLayer(allRoutesLayer)) allRoutesLayer.addTo(map);

  Object.entries(ROUTES).forEach(([k, r]) => {
    const dim = selectedRouteKey && k !== selectedRouteKey;

    setGroupDim(r.layer, dim);
    setStopsDim(STOPS[k], dim);

    const btn = document.querySelector(`.route-btn[data-route="${k}"]`);
    if (btn) btn.classList.toggle("active", selectedRouteKey === k);
  });
}

routesMenuBtn?.addEventListener("click", () => {
  routesPanel.style.display = "block";
});

routesCloseBtn?.addEventListener("click", () => {
  routesPanel.style.display = "none";
});



clearSelectedRouteBtn?.addEventListener("click", () => selectRoute(""));





const allRoutesLayer = L.layerGroup([
  tugbunganRouteLayer,
  lunzuranRouteLayer,
  zambowoodRouteLayer,
  tetuanRouteLayer,
  canelarRouteLayer,
  divisoriaRouteLayer,
  staMariaRouteLayer,
  tumagaRouteLayer,
  pasonancaRouteLayer,
  baliwasanRouteLayer,
  mercedesRouteLayer,
  sanRoqueRouteLayer,
  ayalaRouteLayer,
  sanRamonRouteLayer,
  upperCalarianRouteLayer
]).addTo(map);

// Build paradahan markers (TERMINALS INSIDE EACH ROUTE)
const markerIndex = [];

function addTerminalTo(layer, terminalObj) {
  const m = L.marker([terminalObj.lat, terminalObj.lng])
    .bindPopup(`<strong>${terminalObj.name}</strong><br>${terminalObj.desc}`);
  m.addTo(layer);
  markerIndex.push({ ...terminalObj, marker: m });
}

// Tugbungan terminals
addTerminalTo(tugbunganParadahanLayer, tugbunganTown);
addTerminalTo(tugbunganParadahanLayer, tugbunganTugbungan);

// Lunzuran terminals
addTerminalTo(lunzuranParadahanLayer, lunzuranTown);
addTerminalTo(lunzuranParadahanLayer, lunzuranBarangay);

// Zambowood terminals
addTerminalTo(zambowoodParadahanLayer, zambowoodTown);
addTerminalTo(zambowoodParadahanLayer, zambowoodBarangay);

// Tetuan terminals
addTerminalTo(tetuanParadahanLayer, tetuanTown);
addTerminalTo(tetuanParadahanLayer, tetuanBarangay);
// Canelar terminals
addTerminalTo(canelarParadahanLayer, canelarTown);
addTerminalTo(canelarParadahanLayer, canelarParadahan);

// Divisoria terminals
addTerminalTo(divisoriaParadahanLayer, divisoriaTown);
addTerminalTo(divisoriaParadahanLayer, divisoriaParadahan);

// Sta. Maria terminals
addTerminalTo(staMariaParadahanLayer, staMariaTown);
addTerminalTo(staMariaParadahanLayer, staMariaParadahan);

// Tumaga terminals
addTerminalTo(tumagaParadahanLayer, tumagaTown);
addTerminalTo(tumagaParadahanLayer, tumagaParadahan);

// Pasonanca terminals
addTerminalTo(pasonancaParadahanLayer, pasonancaTown);
addTerminalTo(pasonancaParadahanLayer, pasonancaParadahan);

// Baliwaasan terminals
addTerminalTo(baliwasanParadahanLayer, baliwasanTown);
addTerminalTo(baliwasanParadahanLayer, baliwasanParadahan);

// Mercedes terminal
addTerminalTo(mercedesParadahanLayer, mercedesTown);
addTerminalTo(mercedesParadahanLayer, mercedesParadahan);

// San Roque terminal
addTerminalTo(sanRoqueParadahanLayer, sanRoqueTown);
addTerminalTo(sanRoqueParadahanLayer, sanRoqueParadahan);

// Ayala terminal
addTerminalTo(ayalaParadahanLayer, ayalaTown);
addTerminalTo(ayalaParadahanLayer, ayalaParadahan);

// San Ramon terminal
addTerminalTo(sanRamonParadahanLayer, sanRamonTown);
addTerminalTo(sanRamonParadahanLayer, sanRamonParadahan);

// Upper Calarian terminal
addTerminalTo(upperCalarianParadahanLayer, upperCalarianTown);
addTerminalTo(upperCalarianParadahanLayer, upperCalarianParadahan);







// -----------------------------
// STATIC (FROZEN) ROUTE — NO OSRM
// -----------------------------
const tugbunganRouteCoords = [
  [6.905878,122.077161],[6.905934,122.077046],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906439,122.077232],[6.906471,122.077248],[6.906563,122.077491],[6.906779,122.07806],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.907591,122.08023],[6.90768,122.080218],[6.908076,122.080164],[6.908752,122.080102],[6.909864,122.080008],[6.910688,122.079922],[6.911201,122.079878],[6.91189,122.079814],[6.912657,122.079746],[6.913207,122.079699],[6.913401,122.079681],[6.913582,122.079664],[6.913644,122.079817],[6.913774,122.080141],[6.913821,122.080259],[6.914235,122.081288],[6.914292,122.081428],[6.914411,122.081724],[6.914466,122.08186],[6.914523,122.081999],[6.914708,122.082446],[6.914802,122.082691],[6.914836,122.082781],[6.914852,122.082828],[6.914867,122.082875],[6.914915,122.083067],[6.914992,122.08338],[6.91503,122.083549],[6.91504,122.083592],[6.915082,122.083785],[6.915106,122.083894],[6.915187,122.084334],[6.915334,122.085104],[6.915367,122.085276],[6.915389,122.085416],[6.91546,122.085771],[6.915504,122.085991],[6.915558,122.086285],[6.915565,122.086346],[6.9156,122.086509],[6.915713,122.087109],[6.915732,122.08721],[6.915785,122.087543],[6.915829,122.087789],[6.915839,122.087845],[6.915917,122.088195],[6.916043,122.088861],[6.916143,122.08947],[6.916178,122.089656],[6.916307,122.090297],[6.916359,122.090631],[6.916361,122.090641],[6.916371,122.090718],[6.91642,122.091012],[6.916491,122.091431],[6.916573,122.091889],[6.916649,122.092269],[6.916699,122.092506],[6.916718,122.092582],[6.916737,122.092667],[6.916798,122.092953],[6.916803,122.092978],[6.916882,122.093417],[6.916926,122.093635],[6.916961,122.093815],[6.917024,122.094152],[6.917122,122.094636],[6.917225,122.095129],[6.917242,122.095226],[6.917251,122.095265],[6.917323,122.095704],[6.917411,122.096143],[6.917493,122.096588],[6.917685,122.097447],[6.917781,122.097916],[6.917888,122.098425],[6.918023,122.098973],[6.918101,122.099328],[6.918239,122.099915],[6.91844,122.100768],[6.918579,122.101384],[6.918711,122.101871],[6.918844,122.102423],[6.918879,122.10256],[6.918959,122.102881],[6.918992,122.103017],[6.919055,122.103282],[6.919188,122.103821],[6.919222,122.103948],[6.919282,122.104192],[6.91934,122.104428],[6.91938,122.10463],[6.919403,122.104832],[6.919406,122.104869],[6.919434,122.105059],[6.919445,122.105263],[6.919453,122.105406],[6.919463,122.105557],[6.9195,122.105805],[6.919543,122.106073],[6.919563,122.106248],[6.919625,122.106777],[6.919636,122.106867],[6.91968,122.107266],[6.919689,122.10732],[6.919701,122.107382]
];

const tugbunganRoute = L.polyline(tugbunganRouteCoords, {
  color: "#b3261e",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>TUGBUNGAN - TOWN (VICE VERSA)</strong>");

tugbunganRoute.addTo(tugbunganRouteLayer);
tugbunganParadahanLayer.addTo(tugbunganRouteLayer);

// Fit map to frozen route
map.fitBounds(tugbunganRoute.getBounds().pad(0.2));

const lunzuranRouteCoords = [
  [6.905266,122.077601],[6.905462,122.077194],[6.905638,122.076831],[6.905732,122.07688],[6.905904,122.076971],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906372,122.0772],[6.906449,122.077237],[6.906471,122.077248],[6.906477,122.077264],[6.906563,122.077491],[6.906779,122.07806],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907558,122.080176],[6.907577,122.080232],[6.907607,122.080228],[6.90768,122.080218],[6.908076,122.080164],[6.908752,122.080102],[6.909864,122.080008],[6.910688,122.079922],[6.911201,122.079878],[6.91189,122.079814],[6.912657,122.079746],[6.913207,122.079699],[6.913582,122.079664],[6.913975,122.079629],[6.914484,122.079571],[6.914739,122.079549],[6.91497,122.079519],[6.915499,122.079466],[6.915597,122.079457],[6.915694,122.07945],[6.91582,122.079438],[6.916077,122.079411],[6.916482,122.079366],[6.916647,122.079339],[6.916951,122.07929],[6.917058,122.079278],[6.917383,122.079246],[6.917464,122.079237],[6.9175,122.079235],[6.917714,122.079217],[6.917966,122.079197],[6.918166,122.079183],[6.918427,122.079162],[6.919276,122.079094],[6.919438,122.079086],[6.919552,122.07908],[6.919812,122.079068],[6.92001,122.079058],[6.920901,122.079015],[6.921022,122.079056],[6.921721,122.079045],[6.921756,122.079143],[6.921781,122.079199],[6.921817,122.079264],[6.921869,122.079345],[6.92203,122.079245],[6.921983,122.079167],[6.921953,122.079105],[6.921929,122.079042],[6.922568,122.079033],[6.922655,122.078986],[6.922741,122.078984],[6.922881,122.078982],[6.923008,122.078979],[6.923102,122.078978],[6.923376,122.078973],[6.923521,122.07897],[6.923618,122.078968],[6.924047,122.07896],[6.924104,122.078959],[6.924923,122.078952],[6.925376,122.078941],[6.925522,122.078934],[6.925894,122.078937],[6.926066,122.078934],[6.927185,122.078891],[6.927931,122.078882],[6.92814,122.078874],[6.928315,122.078859],[6.928803,122.078842],[6.929316,122.078818],[6.929513,122.078818],[6.929746,122.078807],[6.930137,122.078779],[6.930306,122.078762],[6.930426,122.078738],[6.930664,122.078674],[6.93082,122.078629],[6.930987,122.078581],[6.931442,122.078396],[6.931719,122.078282],[6.932424,122.07806],[6.93297,122.078331],[6.933331,122.078512],[6.933466,122.07859],[6.933599,122.078635],[6.933692,122.078649],[6.933897,122.078652],[6.934078,122.078657],[6.934308,122.07866],[6.934483,122.078668],[6.934728,122.078684],[6.934769,122.078688],[6.935147,122.078721],[6.935242,122.078729],[6.935616,122.078775],[6.935687,122.078783],[6.935809,122.078797],[6.935917,122.078809],[6.936466,122.078847],[6.93655,122.078858],[6.936808,122.07886],[6.936945,122.078837],[6.937178,122.07879],[6.93742,122.078723],[6.937459,122.078719],[6.937507,122.078714],[6.937511,122.078714],[6.937703,122.079391],[6.937743,122.079413],[6.937826,122.07943],[6.937937,122.079433],[6.938314,122.079448],[6.938491,122.079458],[6.938594,122.079473],[6.938788,122.079518],[6.939017,122.079589],[6.939165,122.079637],[6.939224,122.079656],[6.939505,122.07975],[6.939733,122.079853],[6.939892,122.079929],[6.94008,122.080025],[6.940126,122.080051],[6.940566,122.080301],[6.940884,122.080482],[6.941401,122.080838],[6.941509,122.080924],[6.941823,122.081172],[6.941979,122.081333],[6.94207,122.081417],[6.942215,122.081549],[6.942435,122.081783],[6.94246,122.081846],[6.942726,122.082539],[6.94281,122.082764],[6.942836,122.082834],[6.942883,122.082911],[6.942928,122.082976],[6.943184,122.083199],[6.943432,122.08351],[6.943746,122.083949],[6.943853,122.084099],[6.94405,122.084345],[6.944101,122.084411],[6.944397,122.084849],[6.944597,122.085088],[6.944956,122.085529],[6.945012,122.085598],[6.945134,122.085728],[6.945427,122.08601],[6.945768,122.086372],[6.946223,122.086849],[6.946399,122.087034],[6.946548,122.087175],[6.946773,122.087418],[6.946911,122.087525],[6.947032,122.087597],[6.947307,122.087728],[6.947503,122.08779],[6.947739,122.087846],[6.947826,122.087877],[6.947885,122.087912],[6.948209,122.088185],[6.948618,122.088469],[6.949006,122.088762],[6.949261,122.088882],[6.949372,122.088937],[6.949971,122.089192],[6.950055,122.089246],[6.950098,122.089297],[6.950121,122.089342],[6.950133,122.089428],[6.950144,122.089681],[6.950147,122.089754],[6.95016,122.089753],[6.950206,122.08975],[6.950278,122.089745],[6.950337,122.089746],[6.950394,122.089749],[6.950481,122.089758],[6.950579,122.089785],[6.950765,122.089835],[6.950921,122.089884],[6.951692,122.09017],[6.951853,122.09023],[6.952084,122.090326],[6.95224,122.09039],[6.953086,122.090798],[6.953804,122.09117],[6.954315,122.091422],[6.954908,122.091695],[6.95508,122.091762],[6.955236,122.091858],[6.955489,122.09197],[6.955741,122.092088],[6.955817,122.092122],[6.956182,122.092255],[6.957164,122.09247],[6.958176,122.092631],[6.958277,122.092651],[6.958349,122.092644],[6.958452,122.092618],[6.95868,122.092532],[6.959117,122.092399],[6.959156,122.092387],[6.959181,122.092379],[6.959128,122.092022],[6.9591,122.091706],[6.959073,122.091532],[6.959029,122.091377],[6.958991,122.091291],[6.958954,122.09121],[6.958893,122.091091],[6.95886,122.091006],[6.958852,122.090981],[6.958837,122.09093],[6.958824,122.090878],[6.959102,122.090818],[6.959156,122.090804],[6.959215,122.090788],[6.959455,122.090723],[6.959476,122.090717],[6.95948,122.090716]
];

const lunzuranRoute = L.polyline(lunzuranRouteCoords, {
  color: "#4b2e1f",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>LUNZURAN - TOWN</strong>");

lunzuranRoute.addTo(lunzuranRouteLayer);
lunzuranParadahanLayer.addTo(lunzuranRouteLayer);


// -----------------------------
// ZAMBOWOOD - TOWN (FROZEN ROUTE)
// -----------------------------
const zambowoodRouteCoords = [
  [6.907289,122.07847],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.90768,122.080218],[6.908076,122.080164],[6.90784,122.079464],[6.907461,122.078403],[6.907364,122.078441],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.90768,122.080218],[6.908076,122.080164],[6.90784,122.079464],[6.907461,122.078403],[6.907291,122.077878],[6.908977,122.077503],[6.909309,122.07742],[6.909542,122.077361],[6.910083,122.077238],[6.910115,122.077231],[6.910432,122.077156],[6.910565,122.077124],[6.910662,122.077104],[6.910749,122.077084],[6.910989,122.077026],[6.911272,122.076953],[6.911503,122.076875],[6.911622,122.076824],[6.911707,122.076808],[6.911775,122.076804],[6.913374,122.076467],[6.913407,122.07646],[6.913435,122.076453],[6.914581,122.076212],[6.914662,122.076196],[6.914717,122.076184],[6.914724,122.076183],[6.91495,122.076136],[6.915651,122.075992],[6.915797,122.075961],[6.915983,122.075923],[6.916393,122.075837],[6.916646,122.075787],[6.916909,122.075733],[6.917097,122.075693],[6.918172,122.075457],[6.918817,122.075323],[6.918885,122.075308],[6.919175,122.075249],[6.921244,122.074809],[6.921305,122.074796],[6.921315,122.074824],[6.921349,122.074914],[6.921348,122.075063],[6.921348,122.075104],[6.92137,122.075347],[6.921401,122.075688],[6.9214,122.075759],[6.92139,122.075887],[6.921403,122.076007],[6.921415,122.076129],[6.921439,122.076366],[6.921446,122.076441],[6.92147,122.076704],[6.921476,122.076805],[6.921485,122.076893],[6.921614,122.077886],[6.921741,122.078864],[6.921839,122.079174],[6.922337,122.079979],[6.922775,122.08068],[6.923121,122.081201],[6.923155,122.081227],[6.923183,122.081277],[6.923217,122.081333],[6.923486,122.081783],[6.92369,122.082106],[6.923866,122.082405],[6.924193,122.082958],[6.924279,122.083082],[6.924558,122.083479],[6.924686,122.083643],[6.924813,122.083784],[6.924872,122.083841],[6.92504,122.083941],[6.925253,122.084045],[6.925661,122.084229],[6.925709,122.084291],[6.925765,122.084323],[6.925908,122.084397],[6.926144,122.084512],[6.926329,122.084606],[6.926557,122.084705],[6.926648,122.084727],[6.926757,122.084778],[6.926924,122.084845],[6.927007,122.084887],[6.927147,122.08496],[6.927239,122.085007],[6.927384,122.085079],[6.927632,122.085211],[6.927781,122.085294],[6.927955,122.08538],[6.928158,122.085478],[6.928181,122.085489],[6.928311,122.085553],[6.928479,122.085639],[6.92874,122.085775],[6.928807,122.085822],[6.928885,122.085893],[6.928966,122.085966],[6.929118,122.086174],[6.929369,122.086635],[6.929403,122.086699],[6.929907,122.087666],[6.930294,122.088468],[6.930341,122.088564],[6.930523,122.088917],[6.930533,122.088935],[6.930586,122.089035],[6.930618,122.089096],[6.930654,122.089167],[6.931182,122.090162],[6.931294,122.090373],[6.931398,122.090586],[6.93152,122.090812],[6.931635,122.090997],[6.931809,122.091231],[6.931928,122.091363],[6.931994,122.091424],[6.932152,122.091545],[6.932516,122.091772],[6.932667,122.091839],[6.932927,122.091946],[6.933487,122.092159],[6.933557,122.092183],[6.933618,122.092203],[6.933708,122.092233],[6.933864,122.092286],[6.934405,122.092466],[6.934567,122.092513],[6.934718,122.092555],[6.934895,122.09259],[6.93521,122.092633],[6.935512,122.092652],[6.9356,122.092661],[6.935681,122.092669],[6.935892,122.09269],[6.936124,122.092707],[6.936472,122.09273],[6.936621,122.092737],[6.937139,122.092768],[6.937322,122.092786],[6.937614,122.092808],[6.938184,122.092829],[6.938449,122.092837],[6.938483,122.092839],[6.938567,122.092834],[6.939016,122.092799],[6.939303,122.092782],[6.93957,122.092767],[6.939655,122.092764],[6.939788,122.092756],[6.939832,122.092753],[6.939983,122.092743],[6.940074,122.092737],[6.940192,122.092732],[6.940451,122.092712],[6.940537,122.092705],[6.94065,122.092701],[6.940825,122.092692],[6.941026,122.092688],[6.941252,122.092691],[6.94135,122.092693],[6.941481,122.092693],[6.941727,122.092697],[6.941831,122.092699],[6.941915,122.092702],[6.941969,122.092704],[6.942025,122.092725],[6.94219,122.092754],[6.942341,122.092797],[6.942508,122.092869],[6.942685,122.093012],[6.942783,122.093124],[6.942894,122.093296],[6.94303,122.093603],[6.943161,122.094098],[6.943227,122.094361],[6.943333,122.0948],[6.943399,122.09508],[6.943411,122.095135],[6.94344,122.095262],[6.943474,122.095406],[6.943525,122.095609],[6.943531,122.095648],[6.943575,122.095837],[6.943633,122.096055],[6.943703,122.096239],[6.943837,122.096485],[6.943945,122.096667],[6.944029,122.096808],[6.944113,122.096941],[6.944192,122.097118],[6.944267,122.09734],[6.944316,122.097502],[6.944454,122.097914],[6.944515,122.098078],[6.944642,122.098306],[6.944715,122.098413],[6.944785,122.098508],[6.944938,122.09865],[6.945109,122.098783],[6.945282,122.098894],[6.945782,122.099178],[6.945976,122.099298],[6.946073,122.099381],[6.946182,122.099492],[6.946256,122.099592],[6.946368,122.099756],[6.946469,122.099928],[6.946619,122.100236],[6.946762,122.100578],[6.947177,122.101438],[6.947332,122.101793],[6.947438,122.102019],[6.947525,122.102214],[6.947725,122.102628],[6.947746,122.102676],[6.947834,122.102838],[6.947944,122.102998],[6.948145,122.103279],[6.948223,122.103379],[6.94833,122.103531],[6.948422,122.103669],[6.948551,122.103886],[6.948641,122.104086],[6.948705,122.104266],[6.948732,122.104415],[6.948748,122.104621],[6.948751,122.104771],[6.948752,122.104865],[6.948756,122.105061],[6.948753,122.105188],[6.948756,122.105298],[6.948751,122.105835],[6.948754,122.1061],[6.948749,122.106373],[6.948749,122.106827],[6.948744,122.107116],[6.948728,122.107336],[6.948707,122.107522],[6.948677,122.107706],[6.948661,122.107811],[6.948605,122.108199],[6.948547,122.108634],[6.948528,122.108723],[6.948484,122.108967],[6.948454,122.109124],[6.948425,122.109298],[6.948364,122.109689],[6.948313,122.110011],[6.948261,122.110312],[6.948226,122.110529],[6.948134,122.111064],[6.94808,122.111435],[6.948054,122.111639],[6.948025,122.111859],[6.947964,122.112228],[6.947943,122.112376],[6.94788,122.112833],[6.947817,122.113221],[6.947712,122.113862],[6.947637,122.114341],[6.947589,122.114657],[6.947562,122.114813],[6.947459,122.115419],[6.947399,122.115776],[6.947367,122.11602],[6.947351,122.11614],[6.947327,122.116391],[6.947316,122.116753],[6.947315,122.11705],[6.947301,122.117404],[6.947303,122.117505],[6.947293,122.117881],[6.947296,122.118146],[6.947303,122.118308],[6.947315,122.118557],[6.947321,122.118697],[6.947346,122.118857],[6.947363,122.118943],[6.947398,122.119123],[6.947468,122.119342],[6.947573,122.119671],[6.947675,122.119975],[6.947972,122.120781],[6.948036,122.12096],[6.948152,122.121219],[6.948289,122.121474],[6.948442,122.121682],[6.948617,122.121901],[6.948661,122.121942],[6.948779,122.122052],[6.948723,122.122089],[6.948685,122.122107],[6.948664,122.122117],[6.948577,122.12215],[6.948386,122.122223],[6.948315,122.122262],[6.948263,122.122308],[6.948168,122.122405],[6.948081,122.122533],[6.947911,122.122845],[6.947853,122.122939],[6.947795,122.123035],[6.947668,122.123299],[6.947575,122.123507],[6.94749,122.123695],[6.947424,122.123829],[6.947228,122.124227],[6.947164,122.124396],[6.947077,122.124662],[6.94696,122.12516],[6.946887,122.125547],[6.946804,122.125786],[6.946758,122.125867],[6.946648,122.126057],[6.946268,122.126579],[6.946081,122.126818],[6.945692,122.127505],[6.945415,122.127909],[6.944949,122.128538],[6.944545,122.129147],[6.944271,122.129535],[6.943664,122.13024],[6.943599,122.130315],[6.943189,122.130844],[6.943147,122.130899],[6.943101,122.130972],[6.942649,122.131701],[6.942414,122.132096],[6.942376,122.132164],[6.942221,122.132446],[6.94217,122.132529]
];

const zambowoodRoute = L.polyline(zambowoodRouteCoords, {
  color: "#1f4b99",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>ZAMBOWOOD - TOWN</strong>");

zambowoodRoute.addTo(zambowoodRouteLayer);
zambowoodParadahanLayer.addTo(zambowoodRouteLayer);


// -----------------------------
// TETUAN - TOWN (FROZEN ROUTE)
// -----------------------------
const tetuanRouteCoords = [
  [6.905558,122.076995],[6.905638,122.076831],[6.905904,122.076971],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906439,122.077232],[6.906471,122.077248],[6.906563,122.077491],[6.906779,122.07806],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.907591,122.08023],[6.90768,122.080218],[6.908076,122.080164],[6.908752,122.080102],[6.909864,122.080008],[6.910688,122.079922],[6.911201,122.079878],[6.91189,122.079814],[6.912657,122.079746],[6.913207,122.079699],[6.913401,122.079681],[6.913582,122.079664],[6.913644,122.079817],[6.913774,122.080141],[6.913821,122.080259],[6.914235,122.081288],[6.914292,122.081428],[6.914411,122.081724],[6.914466,122.08186],[6.914523,122.081999],[6.914708,122.082446],[6.914802,122.082691],[6.914836,122.082781],[6.914852,122.082828],[6.914867,122.082875],[6.914915,122.083067],[6.914992,122.08338],[6.91503,122.083549],[6.91504,122.083592],[6.915082,122.083785],[6.915106,122.083894],[6.915187,122.084334],[6.915334,122.085104],[6.915367,122.085276],[6.915389,122.085416],[6.91546,122.085771],[6.915504,122.085991],[6.915558,122.086285],[6.915565,122.086346],[6.9156,122.086509],[6.915713,122.087109],[6.915732,122.08721],[6.915785,122.087543],[6.915829,122.087789],[6.915839,122.087845],[6.915917,122.088195],[6.916043,122.088861],[6.916143,122.08947],[6.916178,122.089656],[6.916298,122.090251]
];

const tetuanRoute = L.polyline(tetuanRouteCoords, {
  color: "#2b6cb0",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>TETUAN - TOWN</strong>");

tetuanRoute.addTo(tetuanRouteLayer);
tetuanParadahanLayer.addTo(tetuanRouteLayer);


// -----------------------------
// CANELAR - TOWN (FROZEN ROUTE)
// -----------------------------
const canelarRouteCoords = [
  [6.906628,122.075217],[6.906931,122.075118],[6.906836,122.074813],[6.906957,122.074766],[6.906999,122.074751],[6.907148,122.074695],[6.907887,122.074442],[6.907972,122.074418],[6.907996,122.074411],[6.908008,122.074406],[6.908471,122.074221],[6.908741,122.074112],[6.90895,122.07401],[6.909396,122.073734],[6.909531,122.073632],[6.909692,122.073519],[6.909933,122.073347],[6.910012,122.07329],[6.910075,122.073262],[6.910313,122.073157],[6.910486,122.073088],[6.910734,122.073005],[6.911499,122.072797],[6.911765,122.072718],[6.912102,122.072638],[6.912137,122.072629],[6.91227,122.0726],[6.912404,122.072583],[6.912501,122.072573],[6.91272,122.072561],[6.912827,122.072554],[6.913073,122.072531],[6.913288,122.072557],[6.913412,122.072569],[6.913471,122.072575],[6.913785,122.072597],[6.914134,122.072622],[6.914298,122.072638],[6.914434,122.072646],[6.914486,122.072649],[6.914565,122.07265],[6.915043,122.072652],[6.91516,122.072653],[6.915867,122.072631],[6.916053,122.07262],[6.916177,122.072608],[6.916322,122.072589],[6.916543,122.072554],[6.916644,122.072539],[6.917003,122.072483],[6.9175,122.072415],[6.917529,122.072411],[6.917709,122.072379],[6.917998,122.072334],[6.918122,122.072315],[6.918533,122.072264],[6.918951,122.072204],[6.919162,122.072174],[6.919255,122.072161],[6.919367,122.072143],[6.91951,122.072124],[6.919628,122.072109],[6.919788,122.072089],[6.919941,122.072057],[6.920178,122.072035],[6.920403,122.072119],[6.920673,122.072235],[6.920758,122.072281],[6.921035,122.072416],[6.921088,122.072435],[6.921214,122.072483],[6.921205,122.072384],[6.921195,122.07228],[6.92113,122.072102],[6.921071,122.071938],[6.920973,122.071714],[6.920907,122.071667],[6.920909,122.071751],[6.920958,122.071897],[6.92088,122.071914],[6.920737,122.071953]
];

const canelarRoute = L.polyline(canelarRouteCoords, {
  color: "#7c3aed",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>CANELAR - TOWN</strong>");

canelarRoute.addTo(canelarRouteLayer);
canelarParadahanLayer.addTo(canelarRouteLayer);

// -----------------------------
// DIVISORIA - TOWN (FROZEN ROUTE)
// -----------------------------

const divisoriaRouteCoords = [ [6.905551,122.077012],[6.905638,122.076831],[6.905904,122.076971],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906471,122.077248],[6.906563,122.077491],[6.906779,122.07806],[6.907291,122.077878],[6.908977,122.077503],[6.909309,122.07742],[6.909542,122.077361],[6.910083,122.077238],[6.910115,122.077231],[6.910432,122.077156],[6.910565,122.077124],[6.910662,122.077104],[6.910749,122.077084],[6.910989,122.077026],[6.911272,122.076953],[6.911503,122.076875],[6.911622,122.076824],[6.911707,122.076808],[6.911775,122.076804],[6.911803,122.076846],[6.912151,122.077367],[6.912548,122.077971],[6.912778,122.078348],[6.913301,122.079204],[6.913363,122.079306],[6.913582,122.079664],[6.913975,122.079629],[6.914484,122.079571],[6.914739,122.079549],[6.91497,122.079519],[6.915499,122.079466],[6.915597,122.079457],[6.915694,122.07945],[6.91582,122.079438],[6.916077,122.079411],[6.916482,122.079366],[6.916647,122.079339],[6.916951,122.07929],[6.917058,122.079278],[6.917383,122.079246],[6.917464,122.079237],[6.9175,122.079235],[6.917714,122.079217],[6.917966,122.079197],[6.918166,122.079183],[6.918427,122.079162],[6.919276,122.079094],[6.919438,122.079086],[6.919552,122.07908],[6.919812,122.079068],[6.92001,122.079058],[6.920901,122.079015],[6.921022,122.079056],[6.921721,122.079045],[6.921756,122.079143],[6.921781,122.079199],[6.921817,122.079264],[6.921869,122.079345],[6.92203,122.079245],[6.921983,122.079167],[6.921953,122.079105],[6.921929,122.079042],[6.922568,122.079033],[6.922655,122.078986],[6.922741,122.078984],[6.922881,122.078982],[6.923008,122.078979],[6.923102,122.078978],[6.923376,122.078973],[6.923521,122.07897],[6.923618,122.078968],[6.924047,122.07896],[6.924104,122.078959],[6.924923,122.078952],[6.925376,122.078941],[6.925522,122.078934],[6.925894,122.078937],[6.926066,122.078934],[6.927185,122.078891],[6.927931,122.078882],[6.92814,122.078874],[6.928315,122.078859],[6.928803,122.078842],[6.929316,122.078818],[6.929513,122.078818],[6.929746,122.078807],[6.930137,122.078779],[6.930306,122.078762],[6.930426,122.078738],[6.930664,122.078674],[6.93082,122.078629],[6.930987,122.078581],[6.931442,122.078396],[6.931719,122.078282],[6.932424,122.07806],[6.93297,122.078331],[6.933331,122.078512],[6.933466,122.07859],[6.933599,122.078635],[6.933692,122.078649],[6.933897,122.078652],[6.934078,122.078657],[6.934308,122.07866],[6.934483,122.078668],[6.934728,122.078684],[6.934769,122.078688],[6.935147,122.078721],[6.935242,122.078729],[6.935616,122.078775],[6.935687,122.078783],[6.935866,122.079147],[6.936008,122.079437],[6.936027,122.079475],[6.936129,122.079682],[6.936779,122.080857],[6.937075,122.081361],[6.93741,122.081898],[6.937756,122.082354],[6.937987,122.082683],[6.93815,122.082904],[6.938204,122.082986],[6.93824,122.083039],[6.93855,122.083574],[6.938694,122.083757],[6.938803,122.083909],[6.939098,122.08435],[6.939173,122.084451],[6.939287,122.084601],[6.93959,122.08502],[6.939781,122.085259],[6.940091,122.085651],[6.940237,122.085848],[6.940478,122.086128],[6.940739,122.08641],[6.940829,122.086521],[6.940903,122.086663],[6.940921,122.086743],[6.940947,122.087102],[6.940911,122.087234],[6.940875,122.087354],[6.940825,122.087521],[6.940795,122.087635],[6.94071,122.087894],[6.940662,122.08807],[6.94066,122.088251],[6.940718,122.088456],[6.940754,122.088587],[6.940815,122.088815],[6.940947,122.089248],[6.94102,122.089426],[6.94125,122.089988],[6.941336,122.090202],[6.941473,122.090559],[6.941515,122.090677],[6.941545,122.090758],[6.941593,122.090936],[6.941603,122.090967],[6.941665,122.091171],[6.941677,122.091212],[6.941783,122.091609],[6.941858,122.091895],[6.941892,122.092059],[6.942018,122.092606],[6.942025,122.092693],[6.942025,122.092725],[6.94219,122.092754],[6.942341,122.092797],[6.942508,122.092869],[6.942685,122.093012],[6.942783,122.093124],[6.942894,122.093296],[6.94303,122.093603],[6.943161,122.094098],[6.943227,122.094361],[6.943333,122.0948],[6.943399,122.09508],[6.943411,122.095135],[6.94344,122.095262],[6.943474,122.095406],[6.943525,122.095609],[6.943531,122.095648],[6.943575,122.095837],[6.943633,122.096055],[6.943703,122.096239],[6.943837,122.096485],[6.943945,122.096667],[6.944029,122.096808],[6.944113,122.096941],[6.944192,122.097118],[6.944267,122.09734],[6.944316,122.097502],[6.944454,122.097914],[6.944515,122.098078],[6.944642,122.098306],[6.944715,122.098413],[6.944785,122.098508],[6.944938,122.09865],[6.945109,122.098783],[6.945282,122.098894],[6.945782,122.099178],[6.945976,122.099298],[6.946073,122.099381],[6.946182,122.099492],[6.946256,122.099592],[6.946368,122.099756],[6.946469,122.099928],[6.946619,122.100236],[6.946762,122.100578],[6.947177,122.101438],[6.947332,122.101793],[6.947438,122.102019],[6.947525,122.102214],[6.947725,122.102628],[6.947746,122.102676],[6.947834,122.102838],[6.947944,122.102998],[6.948145,122.103279],[6.948223,122.103379],[6.94833,122.103531],[6.948422,122.103669],[6.948551,122.103886],[6.948641,122.104086],[6.948705,122.104266],[6.948732,122.104415],[6.948748,122.104621],[6.948751,122.104771],[6.948752,122.104865],[6.948756,122.105061],[6.948753,122.105188],[6.948756,122.105298],[6.948751,122.105835],[6.948754,122.1061],[6.948749,122.106373],[6.948856,122.106361],[6.948854,122.106227],[6.949111,122.106213] ];

const divisoriaRoute = L.polyline(divisoriaRouteCoords, {
  color: "#f59e0b",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>DIVISORIA - TOWN</strong>");

divisoriaRoute.addTo(divisoriaRouteLayer);
divisoriaParadahanLayer.addTo(divisoriaRouteLayer);


// -----------------------------
// STA. MARIA - TOWN (FROZEN ROUTE)
// -----------------------------
const staMariaRouteCoords = [
  [6.907387,122.075262],[6.908109,122.075101],[6.908135,122.075104],[6.908159,122.075118],[6.908181,122.075151],[6.908331,122.075591],[6.908368,122.075698],[6.908392,122.075768],[6.908499,122.076077],[6.908561,122.076261],[6.908634,122.076474],[6.908666,122.076565],[6.908863,122.077158],[6.908977,122.077503],[6.909309,122.07742],[6.909542,122.077361],[6.910115,122.077231],[6.910432,122.077156],[6.910565,122.077124],[6.910662,122.077104],[6.910749,122.077084],[6.910989,122.077026],[6.911272,122.076953],[6.911503,122.076875],[6.911622,122.076824],[6.911707,122.076808],[6.911775,122.076804],[6.913374,122.076467],[6.913407,122.07646],[6.913435,122.076453],[6.914581,122.076212],[6.914662,122.076196],[6.914717,122.076184],[6.914724,122.076183],[6.91495,122.076136],[6.915651,122.075992],[6.915797,122.075961],[6.915983,122.075923],[6.916393,122.075837],[6.916646,122.075787],[6.916909,122.075733],[6.917097,122.075693],[6.918172,122.075457],[6.918817,122.075323],[6.918885,122.075308],[6.919175,122.075249],[6.921192,122.07482],[6.921305,122.074796],[6.921369,122.074784],[6.921359,122.074689],[6.921351,122.074619],[6.921328,122.074419],[6.921299,122.073901],[6.921304,122.073642],[6.92129,122.073382],[6.92125,122.072881],[6.92124,122.072757],[6.921259,122.072706],[6.921286,122.072651],[6.921348,122.072621],[6.921521,122.072579],[6.92169,122.072525],[6.922372,122.072464],[6.922584,122.07242],[6.922768,122.072331],[6.922909,122.072225],[6.923121,122.07202],[6.923207,122.071928],[6.923297,122.071852],[6.923392,122.071765],[6.923478,122.071717],[6.923677,122.071683],[6.923865,122.071645],[6.923887,122.071645],[6.923939,122.071645],[6.924411,122.071654],[6.924481,122.071656],[6.924653,122.071679],[6.924769,122.071701],[6.925024,122.071752],[6.925161,122.071779],[6.925277,122.071794],[6.925679,122.071846],[6.925819,122.071849],[6.92601,122.071849],[6.926065,122.071853],[6.926308,122.07185],[6.926556,122.071846],[6.92674,122.071833],[6.927007,122.071788],[6.92714,122.071768],[6.927413,122.071724],[6.927833,122.071641],[6.928231,122.071545],[6.928124,122.070565],[6.928094,122.070315],[6.928013,122.069414],[6.928401,122.06936],[6.928484,122.069348],[6.928747,122.069316],[6.928922,122.069287],[6.929498,122.0692],[6.929779,122.069158],[6.929842,122.069148],[6.93002,122.069123],[6.930434,122.069069],[6.930505,122.069056]
];

const staMariaRoute = L.polyline(staMariaRouteCoords, {
  color: "#16a34a",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>STA. MARIA - TOWN</strong>");

staMariaRoute.addTo(staMariaRouteLayer);
staMariaParadahanLayer.addTo(staMariaRouteLayer);

// -----------------------------
// TUMAGA - TOWN (FROZEN ROUTE)
// -----------------------------
const tumagaRouteCoords = [
[6.90585,122.07722],[6.905934,122.077046],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906471,122.077248],[6.906563,122.077491],[6.906779,122.07806],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.90768,122.080218],[6.908076,122.080164],[6.908752,122.080102],[6.909864,122.080008],[6.910688,122.079922],[6.911201,122.079878],[6.91189,122.079814],[6.912657,122.079746],[6.913207,122.079699],[6.913582,122.079664],[6.913975,122.079629],[6.914484,122.079571],[6.914739,122.079549],[6.91497,122.079519],[6.915499,122.079466],[6.915597,122.079457],[6.915694,122.07945],[6.91582,122.079438],[6.916077,122.079411],[6.916482,122.079366],[6.916647,122.079339],[6.916951,122.07929],[6.917058,122.079278],[6.917383,122.079246],[6.917464,122.079237],[6.9175,122.079235],[6.917714,122.079217],[6.917966,122.079197],[6.918166,122.079183],[6.918427,122.079162],[6.919276,122.079094],[6.919438,122.079086],[6.919552,122.07908],[6.919812,122.079068],[6.92001,122.079058],[6.920901,122.079015],[6.921022,122.079056],[6.921721,122.079045],[6.921756,122.079143],[6.921781,122.079199],[6.921817,122.079264],[6.921869,122.079345],[6.92203,122.079245],[6.921983,122.079167],[6.921953,122.079105],[6.921929,122.079042],[6.922568,122.079033],[6.922655,122.078986],[6.922741,122.078984],[6.922881,122.078982],[6.923008,122.078979],[6.923102,122.078978],[6.923376,122.078973],[6.923521,122.07897],[6.923618,122.078968],[6.924047,122.07896],[6.924104,122.078959],[6.924923,122.078952],[6.925376,122.078941],[6.925522,122.078934],[6.925894,122.078937],[6.926066,122.078934],[6.927185,122.078891],[6.927931,122.078882],[6.92814,122.078874],[6.928315,122.078859],[6.928803,122.078842],[6.929316,122.078818],[6.929513,122.078818],[6.929746,122.078807],[6.929971,122.078791],[6.929996,122.078789]
];

const tumagaRoute = L.polyline(tumagaRouteCoords, {
  color: "#ef4444",   // Tumaga red
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>TUMAGA - TOWN</strong>");

tumagaRoute.addTo(tumagaRouteLayer);
tumagaParadahanLayer.addTo(tumagaRouteLayer);

// -----------------------------
// PASONANCA - TOWN (FROZEN ROUTE)
// -----------------------------

// 1) Paste the console output HERE (replace the [] with your copied coords)
const pasonancaRouteCoords = [
  [6.907153,122.075314],[6.908109,122.075101],[6.908135,122.075104],[6.908159,122.075118],[6.908181,122.075151],[6.908331,122.075591],[6.908368,122.075698],[6.908307,122.075715],[6.907514,122.075944],[6.907481,122.075955],[6.907215,122.076039],[6.907123,122.075742],[6.907073,122.075578],[6.907028,122.075433],[6.907003,122.075347],[6.906931,122.075118],[6.906836,122.074813],[6.906957,122.074766],[6.906999,122.074751],[6.907148,122.074695],[6.907887,122.074442],[6.907972,122.074418],[6.907996,122.074411],[6.908008,122.074406],[6.908471,122.074221],[6.908741,122.074112],[6.90895,122.07401],[6.909396,122.073734],[6.909531,122.073632],[6.909692,122.073519],[6.909856,122.073402],[6.909933,122.073347],[6.910012,122.07329],[6.910075,122.073262],[6.910313,122.073157],[6.910486,122.073088],[6.910734,122.073005],[6.911499,122.072797],[6.911765,122.072718],[6.912102,122.072638],[6.912137,122.072629],[6.91227,122.0726],[6.91227,122.0726],[6.912404,122.072583],[6.912501,122.072573],[6.91272,122.072561],[6.912827,122.072554],[6.913073,122.072531],[6.913288,122.072557],[6.913471,122.072575],[6.913785,122.072597],[6.914134,122.072622],[6.914298,122.072638],[6.914434,122.072646],[6.914486,122.072649],[6.914565,122.07265],[6.915043,122.072652],[6.91516,122.072653],[6.915867,122.072631],[6.916053,122.07262],[6.916177,122.072608],[6.916322,122.072589],[6.916543,122.072554],[6.916644,122.072539],[6.917003,122.072483],[6.9175,122.072415],[6.917529,122.072411],[6.917709,122.072379],[6.917998,122.072334],[6.918122,122.072315],[6.918533,122.072264],[6.918951,122.072204],[6.919162,122.072174],[6.919255,122.072161],[6.919367,122.072143],[6.919628,122.072109],[6.919788,122.072089],[6.919941,122.072057],[6.920178,122.072035],[6.920403,122.072119],[6.920673,122.072235],[6.920758,122.072281],[6.921035,122.072416],[6.921088,122.072435],[6.921214,122.072483],[6.921275,122.072507],[6.921521,122.072579],[6.92169,122.072525],[6.922372,122.072464],[6.922584,122.07242],[6.922768,122.072331],[6.922909,122.072225],[6.923121,122.07202],[6.923207,122.071928],[6.923297,122.071852],[6.923392,122.071765],[6.923478,122.071717],[6.923677,122.071683],[6.923865,122.071645],[6.923887,122.071645],[6.923939,122.071645],[6.924411,122.071654],[6.924481,122.071656],[6.924653,122.071679],[6.924769,122.071701],[6.925024,122.071752],[6.925161,122.071779],[6.925277,122.071794],[6.925679,122.071846],[6.925819,122.071849],[6.92601,122.071849],[6.926065,122.071853],[6.926308,122.07185],[6.926556,122.071846],[6.92674,122.071833],[6.927007,122.071788],[6.92714,122.071768],[6.927413,122.071724],[6.927833,122.071641],[6.928231,122.071545],[6.928477,122.071503],[6.928586,122.071482],[6.928677,122.071466],[6.928769,122.071454],[6.928899,122.071443],[6.929127,122.071408],[6.929248,122.071385],[6.929569,122.071346],[6.930633,122.071218],[6.930974,122.071178],[6.931274,122.07115],[6.931441,122.071134],[6.931941,122.071051],[6.932018,122.071038],[6.932222,122.070998],[6.93263,122.070924],[6.932964,122.070839],[6.93332,122.070768],[6.933493,122.070733],[6.933831,122.070663],[6.933939,122.070643],[6.934236,122.070592],[6.934411,122.070564],[6.934578,122.070541],[6.934643,122.070532],[6.934738,122.070519],[6.935162,122.070463],[6.935168,122.070462],[6.935266,122.070448],[6.93602,122.070357],[6.936369,122.070322],[6.936489,122.070314],[6.936609,122.070308],[6.936742,122.070311],[6.936768,122.070313],[6.936874,122.070323],[6.937093,122.070346],[6.937282,122.070385],[6.937551,122.070493],[6.937945,122.070652],[6.938066,122.070692],[6.938151,122.070719],[6.938276,122.070749],[6.938349,122.070764],[6.938471,122.070772],[6.938682,122.070776],[6.938978,122.07077],[6.939313,122.070764],[6.939444,122.070771],[6.939615,122.070783],[6.939767,122.070795],[6.939932,122.070816],[6.940107,122.070847],[6.940173,122.070859],[6.94024,122.07088],[6.940318,122.070906],[6.940444,122.070965],[6.940553,122.071018],[6.941017,122.071222],[6.941084,122.071263],[6.941149,122.071297],[6.941233,122.071345],[6.9413,122.071383],[6.941417,122.07148],[6.941745,122.071812],[6.941858,122.071925],[6.942077,122.07214],[6.942147,122.07222],[6.942362,122.072463],[6.94238,122.072484],[6.942548,122.072705],[6.942583,122.072752],[6.942617,122.072817],[6.942692,122.072916],[6.94276,122.072984],[6.942836,122.073026],[6.94289,122.073046],[6.942948,122.07306],[6.942996,122.073064],[6.943051,122.073072],[6.943117,122.073082],[6.943165,122.073086],[6.943194,122.073088],[6.943234,122.073089],[6.94333,122.073074],[6.943444,122.073055],[6.943606,122.073064],[6.943873,122.073079],[6.94411,122.073081],[6.944143,122.073082],[6.944184,122.073083],[6.944539,122.073093],[6.944724,122.073092],[6.944868,122.073094],[6.945189,122.073081],[6.945293,122.073073],[6.945457,122.073055],[6.94557,122.073038],[6.945633,122.073029],[6.945723,122.073019],[6.945919,122.072997],[6.94618,122.072968],[6.947057,122.072847],[6.947152,122.072831],[6.94758,122.072763],[6.947626,122.072754],[6.947701,122.072739],[6.947773,122.07272],[6.948032,122.072649],[6.948089,122.072631],[6.94846,122.072514],[6.948683,122.072446],[6.949751,122.072133],[6.950347,122.071978],[6.95086,122.071845],[6.951176,122.071763],[6.951397,122.071715],[6.951672,122.071642],[6.952211,122.071499],[6.952237,122.071493],[6.95229,122.07148],[6.95239,122.07146],[6.952523,122.071436],[6.952664,122.071425],[6.952826,122.071425],[6.953014,122.071428],[6.953212,122.071432],[6.953368,122.071437],[6.95352,122.071451],[6.953883,122.071482],[6.954216,122.071515],[6.954372,122.071547],[6.954488,122.07159],[6.954543,122.071632],[6.954617,122.071687],[6.954746,122.071806],[6.95481,122.071879],[6.955285,122.072461],[6.955622,122.072875],[6.955801,122.073088],[6.95584,122.073132],[6.956464,122.073838],[6.956584,122.073966],[6.956626,122.074017]
];

const pasonancaRoute = L.polyline(pasonancaRouteCoords, {
  color: "#0ea5e9",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>PASONANCA - TOWN</strong>");

pasonancaRoute.addTo(pasonancaRouteLayer);
pasonancaParadahanLayer.addTo(pasonancaRouteLayer);


// -----------------------------
// BALIWASAN - TOWN (FROZEN ROUTE)
// -----------------------------

// Paste your copied console output HERE (replace the [] with your copied coords)
const baliwasanRouteCoords = [
  [6.906203,122.073322],[6.907384,122.073548],[6.907655,122.072841],[6.907678,122.072781],[6.907892,122.072184],[6.908009,122.071871],[6.908111,122.071598],[6.908227,122.071324],[6.908301,122.071173],[6.908348,122.071077],[6.908494,122.070866],[6.908651,122.070647],[6.90868,122.070607],[6.908756,122.070496],[6.908899,122.070297],[6.908915,122.070274],[6.909033,122.070114],[6.909124,122.069983],[6.909151,122.069945],[6.90954,122.069419],[6.909713,122.069178],[6.909808,122.069046],[6.909842,122.06899],[6.910087,122.068629],[6.910363,122.068268],[6.910684,122.067821],[6.910693,122.06781],[6.910705,122.067789],[6.910732,122.067754],[6.910907,122.067517],[6.911012,122.067378],[6.911038,122.067344],[6.911058,122.067317],[6.911118,122.067228],[6.911226,122.067069],[6.911492,122.066691],[6.911706,122.066373],[6.911886,122.0661],[6.912095,122.065763],[6.912135,122.065699],[6.912336,122.065378],[6.912532,122.065084],[6.912661,122.064881],[6.912844,122.064623],[6.912967,122.064434],[6.913103,122.064222],[6.913272,122.063957],[6.913282,122.063942],[6.913399,122.063758],[6.913416,122.063731],[6.913458,122.063665],[6.913807,122.063113],[6.913894,122.062976],[6.914059,122.062713],[6.914266,122.062402],[6.914444,122.062135],[6.914592,122.061913],[6.91481,122.061587],[6.914847,122.061532],[6.914883,122.061478],[6.914935,122.0614],[6.915125,122.061116],[6.915177,122.061038],[6.915273,122.060895],[6.915298,122.060857],[6.915835,122.060054],[6.915911,122.05994],[6.916017,122.059795],[6.916778,122.05876],[6.917185,122.058211],[6.917451,122.05786],[6.917529,122.057761],[6.917932,122.057238],[6.91797,122.057186],[6.918549,122.056402],[6.918648,122.056266],[6.918714,122.056185],[6.918819,122.056052],[6.918906,122.055874],[6.918974,122.055712],[6.918996,122.055639],[6.919085,122.055365],[6.919192,122.055036],[6.919215,122.054942]
];

const baliwasanRoute = L.polyline(baliwasanRouteCoords, {
  color: "#8b5cf6",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>BALIWASAN - TOWN</strong>");

baliwasanRoute.addTo(baliwasanRouteLayer);

// Put the terminals inside the same toggle behavior (same pattern as your other routes)
baliwasanParadahanLayer.addTo(baliwasanRouteLayer);


// -----------------------------
// MERCEDES - TOWN (FROZEN ROUTE)
// -----------------------------
const mercedesRouteCoords = [
[6.905487,122.077144],[6.905638,122.076831],[6.905904,122.076971],[6.905957,122.076998],[6.906212,122.077122],[6.90627,122.07715],[6.906471,122.077248],[6.906563,122.077491],[6.906779,122.07806],[6.906978,122.07859],[6.9072,122.079158],[6.907285,122.079384],[6.907341,122.079536],[6.907413,122.079733],[6.907547,122.080142],[6.907577,122.080232],[6.90768,122.080218],[6.908076,122.080164],[6.908048,122.080082],[6.90784,122.079464],[6.907461,122.078403],[6.907291,122.077878],[6.908977,122.077503],[6.909309,122.07742],[6.909542,122.077361],[6.910115,122.077231],[6.910432,122.077156],[6.910565,122.077124],[6.910662,122.077104],[6.910749,122.077084],[6.910989,122.077026],[6.911272,122.076953],[6.911503,122.076875],[6.911622,122.076824],[6.911707,122.076808],[6.911775,122.076804],[6.911803,122.076846],[6.912151,122.077367],[6.912548,122.077971],[6.912778,122.078348],[6.913301,122.079204],[6.913363,122.079306],[6.913582,122.079664],[6.913975,122.079629],[6.914484,122.079571],[6.914739,122.079549],[6.91497,122.079519],[6.915499,122.079466],[6.915597,122.079457],[6.915694,122.07945],[6.91582,122.079438],[6.916077,122.079411],[6.916482,122.079366],[6.916647,122.079339],[6.916951,122.07929],[6.917058,122.079278],[6.917383,122.079246],[6.917464,122.079237],[6.9175,122.079235],[6.917714,122.079217],[6.917966,122.079197],[6.918166,122.079183],[6.918427,122.079162],[6.919276,122.079094],[6.919438,122.079086],[6.919552,122.07908],[6.919812,122.079068],[6.92001,122.079058],[6.920901,122.079015],[6.921022,122.079056],[6.921721,122.079045],[6.921756,122.079143],[6.921781,122.079199],[6.921817,122.079264],[6.921869,122.079345],[6.92203,122.079245],[6.922003,122.0792],[6.921983,122.079167],[6.921953,122.079105],[6.921929,122.079042],[6.922568,122.079033],[6.922655,122.078986],[6.922741,122.078984],[6.922881,122.078982],[6.923008,122.078979],[6.923102,122.078978],[6.923376,122.078973],[6.923521,122.07897],[6.923618,122.078968],[6.924047,122.07896],[6.924104,122.078959],[6.924923,122.078952],[6.925376,122.078941],[6.925522,122.078934],[6.925894,122.078937],[6.926066,122.078934],[6.927185,122.078891],[6.927931,122.078882],[6.92814,122.078874],[6.928315,122.078859],[6.928803,122.078842],[6.929316,122.078818],[6.929513,122.078818],[6.929746,122.078807],[6.930137,122.078779],[6.930306,122.078762],[6.930426,122.078738],[6.930664,122.078674],[6.93082,122.078629],[6.930987,122.078581],[6.931442,122.078396],[6.931719,122.078282],[6.932424,122.07806],[6.93297,122.078331],[6.933331,122.078512],[6.933466,122.07859],[6.933599,122.078635],[6.933692,122.078649],[6.933897,122.078652],[6.934078,122.078657],[6.934308,122.07866],[6.934483,122.078668],[6.934728,122.078684],[6.934769,122.078688],[6.935147,122.078721],[6.935242,122.078729],[6.935616,122.078775],[6.935687,122.078783],[6.935866,122.079147],[6.936008,122.079437],[6.936027,122.079475],[6.936129,122.079682],[6.936779,122.080857],[6.937075,122.081361],[6.93741,122.081898],[6.937756,122.082354],[6.937987,122.082683],[6.93815,122.082904],[6.938204,122.082986],[6.93824,122.083039],[6.93855,122.083574],[6.938694,122.083757],[6.938803,122.083909],[6.939098,122.08435],[6.939173,122.084451],[6.939287,122.084601],[6.93959,122.08502],[6.939781,122.085259],[6.940091,122.085651],[6.940237,122.085848],[6.940478,122.086128],[6.940739,122.08641],[6.940829,122.086521],[6.940903,122.086663],[6.940921,122.086743],[6.940947,122.087102],[6.940911,122.087234],[6.940875,122.087354],[6.940825,122.087521],[6.940795,122.087635],[6.94071,122.087894],[6.940662,122.08807],[6.94066,122.088251],[6.940718,122.088456],[6.940754,122.088587],[6.940815,122.088815],[6.940947,122.089248],[6.94102,122.089426],[6.94125,122.089988],[6.941336,122.090202],[6.941473,122.090559],[6.941515,122.090677],[6.941545,122.090758],[6.941593,122.090936],[6.941603,122.090967],[6.941665,122.091171],[6.941677,122.091212],[6.941783,122.091609],[6.941858,122.091895],[6.941892,122.092059],[6.942018,122.092606],[6.942025,122.092693],[6.942025,122.092725],[6.94219,122.092754],[6.942341,122.092797],[6.942508,122.092869],[6.942685,122.093012],[6.942783,122.093124],[6.942894,122.093296],[6.94303,122.093603],[6.943161,122.094098],[6.943227,122.094361],[6.943333,122.0948],[6.943399,122.09508],[6.943411,122.095135],[6.94344,122.095262],[6.943474,122.095406],[6.943525,122.095609],[6.943531,122.095648],[6.943575,122.095837],[6.943633,122.096055],[6.943703,122.096239],[6.943837,122.096485],[6.943945,122.096667],[6.944029,122.096808],[6.944113,122.096941],[6.944192,122.097118],[6.944267,122.09734],[6.944316,122.097502],[6.944454,122.097914],[6.944515,122.098078],[6.944642,122.098306],[6.944715,122.098413],[6.944785,122.098508],[6.944938,122.09865],[6.945109,122.098783],[6.945282,122.098894],[6.945782,122.099178],[6.945976,122.099298],[6.946073,122.099381],[6.946182,122.099492],[6.946256,122.099592],[6.946368,122.099756],[6.946469,122.099928],[6.946619,122.100236],[6.946762,122.100578],[6.947177,122.101438],[6.947332,122.101793],[6.947438,122.102019],[6.947525,122.102214],[6.947725,122.102628],[6.947746,122.102676],[6.947834,122.102838],[6.947944,122.102998],[6.948145,122.103279],[6.948223,122.103379],[6.94833,122.103531],[6.948422,122.103669],[6.948551,122.103886],[6.948641,122.104086],[6.948705,122.104266],[6.948732,122.104415],[6.948748,122.104621],[6.948751,122.104771],[6.948752,122.104865],[6.948756,122.105061],[6.948753,122.105188],[6.948756,122.105298],[6.948751,122.105835],[6.948754,122.1061],[6.948749,122.106373],[6.948749,122.106827],[6.948744,122.107116],[6.948728,122.107336],[6.948707,122.107522],[6.948677,122.107706],[6.948661,122.107811],[6.948605,122.108199],[6.948547,122.108634],[6.948528,122.108723],[6.948484,122.108967],[6.948454,122.109124],[6.948425,122.109298],[6.948364,122.109689],[6.948313,122.110011],[6.948261,122.110312],[6.948226,122.110529],[6.948134,122.111064],[6.94808,122.111435],[6.948054,122.111639],[6.948025,122.111859],[6.947964,122.112228],[6.947943,122.112376],[6.94788,122.112833],[6.947817,122.113221],[6.947712,122.113862],[6.947637,122.114341],[6.947589,122.114657],[6.947562,122.114813],[6.947459,122.115419],[6.947399,122.115776],[6.947367,122.11602],[6.947351,122.11614],[6.947327,122.116391],[6.947316,122.116753],[6.947315,122.11705],[6.947301,122.117404],[6.947303,122.117505],[6.947293,122.117881],[6.947296,122.118146],[6.947303,122.118308],[6.947315,122.118557],[6.947321,122.118697],[6.947346,122.118857],[6.947363,122.118943],[6.947398,122.119123],[6.947468,122.119342],[6.947573,122.119671],[6.947675,122.119975],[6.947972,122.120781],[6.948036,122.12096],[6.948152,122.121219],[6.948289,122.121474],[6.948442,122.121682],[6.948617,122.121901],[6.948779,122.122052],[6.948897,122.12215],[6.949017,122.122229],[6.949248,122.122373],[6.949468,122.122475],[6.94976,122.122581],[6.950294,122.122744],[6.950395,122.122775],[6.950585,122.122844],[6.950851,122.122942],[6.951287,122.123136],[6.951709,122.123335],[6.951921,122.123435],[6.952174,122.123555],[6.952494,122.123731],[6.952856,122.123937],[6.953092,122.124072],[6.953341,122.124217],[6.95343,122.124274],[6.953521,122.124333],[6.954228,122.124756],[6.95437,122.124843],[6.954464,122.124907],[6.954578,122.124985],[6.954686,122.125076],[6.954767,122.125155],[6.954862,122.125279],[6.954949,122.12543],[6.954994,122.125519],[6.955016,122.125571],[6.955042,122.125636],[6.955067,122.125716],[6.955097,122.125804],[6.955119,122.125872],[6.9552,122.126149],[6.955221,122.126219],[6.955298,122.126497],[6.955384,122.126786],[6.955419,122.126901],[6.955497,122.127165],[6.955593,122.127449],[6.955716,122.127705],[6.955875,122.127918],[6.95609,122.12809],[6.956356,122.128231],[6.956596,122.128296],[6.956876,122.12832],[6.957105,122.128319],[6.957632,122.128296],[6.957753,122.128288],[6.957925,122.1283],[6.958078,122.12833],[6.958147,122.12835],[6.958302,122.128409],[6.958474,122.12852],[6.958696,122.128716],[6.960907,122.131071],[6.961141,122.131344],[6.961293,122.131564],[6.961432,122.131789],[6.961654,122.132167],[6.961818,122.132407],[6.962117,122.132716],[6.96229,122.132913],[6.962368,122.13303],[6.962435,122.133165],[6.962472,122.133281],[6.962488,122.133388],[6.962493,122.133419],[6.962494,122.133483],[6.96249,122.133642],[6.96248,122.133764],[6.962418,122.134248],[6.96241,122.134346],[6.962398,122.134778],[6.962406,122.134935],[6.962414,122.135004],[6.962428,122.135106],[6.962475,122.135307],[6.96252,122.135476],[6.962603,122.135741],[6.962677,122.136006],[6.962741,122.136232],[6.962734,122.13628],[6.962723,122.136382],[6.962714,122.136494],[6.962661,122.137373],[6.962651,122.137518],[6.962639,122.137629],[6.962628,122.13775],[6.962615,122.137826],[6.96259,122.137908],[6.962569,122.137964],[6.962541,122.138026],[6.962496,122.138096],[6.962448,122.138148],[6.962379,122.138196],[6.962242,122.138271],[6.962087,122.138346],[6.961822,122.138458],[6.961424,122.13862],[6.961287,122.138685],[6.961179,122.138739],[6.960968,122.138837],[6.960704,122.138946],[6.960594,122.139002],[6.960441,122.139091],[6.960193,122.139257],[6.960165,122.139286],[6.960137,122.139319],[6.960102,122.139362],[6.959954,122.139548],[6.959813,122.13975],[6.959566,122.14007],[6.959412,122.140227],[6.95932,122.140299],[6.959167,122.140381],[6.95818,122.140746],[6.957697,122.140932],[6.957229,122.141095],[6.957103,122.141144],[6.956937,122.14124],[6.956872,122.141296],[6.956819,122.141359],[6.956767,122.141487],[6.956736,122.141624],[6.956708,122.14174],[6.956813,122.142047],[6.956853,122.142162],[6.95695,122.142482],[6.957107,122.142994],[6.957253,122.143474],[6.957293,122.143589],[6.957344,122.143736],[6.957408,122.143946]
];

const mercedesRoute = L.polyline(mercedesRouteCoords, {
  color: "#9333ea",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>MERCEDES - TOWN</strong>");

mercedesRoute.addTo(mercedesRouteLayer);

// So the Mercedes button hides BOTH the route + terminals
mercedesParadahanLayer.addTo(mercedesRouteLayer);

// -----------------------------
// SAN ROQUE - TOWN (FROZEN ROUTE)
// -----------------------------
const sanRoqueRouteCoords = [
 
 [6.907855,122.072853],[6.907678,122.072781],[6.907892,122.072184],[6.908009,122.071871],[6.908111,122.071598],[6.908227,122.071324],[6.908301,122.071173],[6.908348,122.071077],[6.908494,122.070866],[6.908651,122.070647],[6.90868,122.070607],[6.908756,122.070496],[6.908899,122.070297],[6.908915,122.070274],[6.909033,122.070114],[6.909124,122.069983],[6.909151,122.069945],[6.90954,122.069419],[6.909808,122.069046],[6.909842,122.06899],[6.910087,122.068629],[6.910363,122.068268],[6.910684,122.067821],[6.910693,122.06781],[6.910705,122.067789],[6.910705,122.067789],[6.910732,122.067754],[6.910907,122.067517],[6.911012,122.067378],[6.911038,122.067344],[6.911058,122.067317],[6.911118,122.067228],[6.911226,122.067069],[6.911492,122.066691],[6.911706,122.066373],[6.911886,122.0661],[6.912095,122.065763],[6.912135,122.065699],[6.912336,122.065378],[6.912532,122.065084],[6.912661,122.064881],[6.912844,122.064623],[6.912967,122.064434],[6.913103,122.064222],[6.913272,122.063957],[6.913282,122.063942],[6.913399,122.063758],[6.913416,122.063731],[6.913458,122.063665],[6.913807,122.063113],[6.913894,122.062976],[6.914059,122.062713],[6.914266,122.062402],[6.914444,122.062135],[6.914592,122.061913],[6.91481,122.061587],[6.914847,122.061532],[6.914883,122.061478],[6.914935,122.0614],[6.915125,122.061116],[6.915177,122.061038],[6.915273,122.060895],[6.915298,122.060857],[6.915835,122.060054],[6.915911,122.05994],[6.916017,122.059795],[6.916778,122.05876],[6.917185,122.058211],[6.917451,122.05786],[6.917529,122.057761],[6.917932,122.057238],[6.91797,122.057186],[6.918549,122.056402],[6.918648,122.056266],[6.918714,122.056185],[6.918819,122.056052],[6.918906,122.055874],[6.918974,122.055712],[6.918996,122.055639],[6.919085,122.055365],[6.919192,122.055036],[6.919426,122.054076],[6.919479,122.053841],[6.91951,122.053739],[6.919634,122.053276],[6.919662,122.053144],[6.919943,122.051812],[6.920042,122.051351],[6.920119,122.050978],[6.920153,122.050772],[6.920161,122.050727],[6.920166,122.050672],[6.920178,122.050537],[6.920203,122.050287],[6.92021,122.050214],[6.920251,122.049774],[6.92027,122.049603],[6.920281,122.049498],[6.92029,122.049436],[6.920304,122.049339],[6.920351,122.04883],[6.920413,122.048385],[6.920447,122.048163],[6.920467,122.04795],[6.920484,122.047766],[6.920513,122.047536],[6.921078,122.047503],[6.921317,122.047476],[6.921512,122.047444],[6.921882,122.047363],[6.922728,122.047164],[6.923107,122.047073],[6.923279,122.04703],[6.923441,122.04699],[6.923488,122.046984],[6.923537,122.046984],[6.923605,122.046994],[6.923659,122.047008],[6.923752,122.047032],[6.924328,122.047196],[6.92442,122.04722],[6.924552,122.047241],[6.924666,122.047259],[6.924734,122.047259],[6.924863,122.047259],[6.924958,122.047251],[6.925387,122.0472],[6.925749,122.047164],[6.926665,122.047088],[6.926774,122.04708],[6.927301,122.047037],[6.927419,122.047039],[6.927515,122.047049],[6.927588,122.047069],[6.927712,122.047123],[6.927815,122.04718],[6.928348,122.047512],[6.928441,122.047551],[6.928533,122.047564],[6.928631,122.047568],[6.928734,122.047563],[6.928773,122.047562],[6.928838,122.04756],[6.928936,122.04756],[6.929163,122.047556],[6.92926,122.047554],[6.929411,122.047607],[6.929278,122.047834],[6.929077,122.048314],[6.929024,122.048427],[6.929022,122.048431]

];
const sanRoqueRoute = L.polyline(sanRoqueRouteCoords, {
  color: "#dc2626",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>SAN ROQUE - TOWN</strong>");

sanRoqueRoute.addTo(sanRoqueRouteLayer);

// So the San Roque button hides BOTH the route + terminals
sanRoqueParadahanLayer.addTo(sanRoqueRouteLayer);

// -----------------------------
// AYALA - TOWN (FROZEN ROUTE)
// -----------------------------

const ayalaRouteCoords = [
[6.905321,122.073726],[6.905185,122.073764],[6.905061,122.073427],[6.905005,122.073268],[6.904975,122.073183],[6.90495,122.07312],[6.904924,122.073009],[6.904826,122.072725],[6.904789,122.072589],[6.904775,122.072477],[6.904773,122.072384],[6.90477,122.071685],[6.904762,122.071339],[6.904762,122.071006],[6.904789,122.070794],[6.904822,122.070633],[6.904874,122.070491],[6.90493,122.070365],[6.905019,122.070214],[6.905165,122.070044],[6.90526,122.069958],[6.905414,122.069819],[6.905525,122.069734],[6.905765,122.069583],[6.906042,122.069427],[6.906151,122.069365],[6.906196,122.069338],[6.906229,122.069318],[6.906438,122.069173],[6.906755,122.068953],[6.906966,122.06878],[6.907092,122.068677],[6.907261,122.068506],[6.90731,122.068456],[6.907416,122.068344],[6.907491,122.068276],[6.907642,122.068103],[6.907776,122.067932],[6.907844,122.067837],[6.907898,122.067739],[6.907943,122.067643],[6.907952,122.067614],[6.907974,122.067549],[6.908035,122.067269],[6.908082,122.067009],[6.908103,122.066843],[6.908131,122.066499],[6.908175,122.066124],[6.908184,122.065916],[6.908189,122.065796],[6.908205,122.065455],[6.90823,122.065041],[6.908273,122.064617],[6.908275,122.064595],[6.908279,122.064546],[6.908286,122.064489],[6.908302,122.064404],[6.908322,122.064324],[6.908345,122.064256],[6.90837,122.064198],[6.908478,122.063977],[6.908667,122.063655],[6.908805,122.063419],[6.908889,122.06329],[6.90895,122.063192],[6.908999,122.063111],[6.909021,122.063074],[6.909132,122.062894],[6.909255,122.062763],[6.909339,122.06269],[6.909637,122.062444],[6.909976,122.062191],[6.910232,122.061976],[6.911451,122.060954],[6.911481,122.060929],[6.911523,122.060899],[6.911555,122.060881],[6.911594,122.060859],[6.911636,122.060841],[6.911644,122.060863],[6.911654,122.060876],[6.911665,122.060886],[6.911679,122.060892],[6.911697,122.060896],[6.911776,122.060906],[6.911788,122.060907],[6.9118,122.060905],[6.911814,122.0609],[6.911824,122.060894],[6.911833,122.060885],[6.911838,122.060877],[6.911842,122.060865],[6.911844,122.060852],[6.911848,122.060756],[6.911844,122.060736],[6.911831,122.060718],[6.911815,122.060707],[6.911881,122.06058],[6.912035,122.060283],[6.912076,122.060203],[6.912479,122.059422],[6.913896,122.06064],[6.914148,122.060857],[6.914744,122.061369],[6.914883,122.061478],[6.914935,122.0614],[6.915125,122.061116],[6.915177,122.061038],[6.915273,122.060895],[6.915298,122.060857],[6.915835,122.060054],[6.915911,122.05994],[6.916017,122.059795],[6.916778,122.05876],[6.917185,122.058211],[6.917451,122.05786],[6.917529,122.057761],[6.917932,122.057238],[6.91797,122.057186],[6.918549,122.056402],[6.918648,122.056266],[6.918714,122.056185],[6.918819,122.056052],[6.918906,122.055874],[6.918974,122.055712],[6.918996,122.055639],[6.919085,122.055365],[6.919192,122.055036],[6.919426,122.054076],[6.919479,122.053841],[6.91951,122.053739],[6.919634,122.053276],[6.919662,122.053144],[6.919943,122.051812],[6.920042,122.051351],[6.920119,122.050978],[6.920153,122.050772],[6.920161,122.050727],[6.920166,122.050672],[6.920178,122.050537],[6.920203,122.050287],[6.92021,122.050214],[6.920251,122.049774],[6.92027,122.049603],[6.920281,122.049498],[6.920304,122.049339],[6.920351,122.04883],[6.920413,122.048385],[6.920447,122.048163],[6.920467,122.04795],[6.920484,122.047766],[6.920513,122.047536],[6.92059,122.046913],[6.920614,122.046731],[6.920638,122.046548],[6.920687,122.046193],[6.920688,122.046163],[6.920725,122.045908],[6.920731,122.045869],[6.920782,122.045547],[6.920825,122.045287],[6.920886,122.045003],[6.920905,122.044925],[6.920976,122.044642],[6.92099,122.044585],[6.921142,122.044158],[6.921293,122.043724],[6.921339,122.043601],[6.921363,122.043486],[6.921369,122.043341],[6.921368,122.043241],[6.92136,122.043148],[6.921344,122.043029],[6.921252,122.042606],[6.921146,122.042081],[6.920894,122.040903],[6.92083,122.040652],[6.920727,122.040135],[6.920719,122.04002],[6.920721,122.039837],[6.92075,122.03957],[6.920855,122.039014],[6.920873,122.038912],[6.920899,122.038717],[6.920943,122.038391],[6.920968,122.038213],[6.921042,122.037681],[6.921092,122.037381],[6.921154,122.036994],[6.921211,122.036685],[6.92124,122.036578],[6.921248,122.036549],[6.921266,122.036503],[6.921283,122.036457],[6.921344,122.036315],[6.92258,122.033561],[6.923374,122.031809],[6.923934,122.030571],[6.924083,122.030205],[6.92425,122.02984],[6.924297,122.029748],[6.924373,122.0296],[6.924416,122.029501],[6.924658,122.028951],[6.924716,122.028833],[6.924855,122.028522],[6.925128,122.027879],[6.925164,122.027807],[6.9252,122.02772],[6.925276,122.027541],[6.925299,122.02748],[6.925311,122.027451],[6.925365,122.027278],[6.925378,122.027203],[6.925396,122.027097],[6.925396,122.026903],[6.925351,122.026705],[6.925293,122.026504],[6.92521,122.026273],[6.924879,122.02549],[6.924538,122.024645],[6.92451,122.024547],[6.924481,122.02444],[6.924419,122.024204],[6.924411,122.024098],[6.924437,122.023752],[6.924438,122.023726],[6.924478,122.023428],[6.924615,122.022864],[6.924709,122.022484],[6.924788,122.02216],[6.924856,122.021901],[6.92491,122.021676],[6.924928,122.02161],[6.92516,122.020592],[6.925194,122.020447],[6.9255,122.019101],[6.92552,122.019011],[6.925565,122.018808],[6.925853,122.01759],[6.925937,122.017247],[6.925992,122.016973],[6.926067,122.016624],[6.926143,122.01638],[6.926226,122.016166],[6.926378,122.015855],[6.926568,122.015516],[6.926814,122.015096],[6.926921,122.0149],[6.927075,122.014634],[6.927223,122.014379],[6.927516,122.01388],[6.927616,122.013716],[6.927728,122.013519],[6.927861,122.013239],[6.928027,122.012775],[6.928148,122.012358],[6.928232,122.012139],[6.928343,122.011902],[6.928484,122.011655],[6.928572,122.011526],[6.928645,122.011408],[6.928743,122.011247],[6.928834,122.011062],[6.928902,122.010897],[6.928946,122.010786],[6.92922,122.010121],[6.92928,122.009895],[6.929396,122.009328],[6.929429,122.009179],[6.92945,122.00906],[6.929486,122.008863],[6.929559,122.008589],[6.929643,122.008385],[6.929705,122.008271],[6.929778,122.008155],[6.930012,122.00774],[6.930419,122.007031],[6.930645,122.006665],[6.93069,122.006606],[6.930897,122.006287],[6.931039,122.006034],[6.93119,122.005823],[6.931317,122.005683],[6.931735,122.005253],[6.932024,122.004953],[6.932247,122.004728],[6.932411,122.004556],[6.932534,122.00441],[6.932917,122.003957],[6.93304,122.003814],[6.933209,122.003591],[6.93338,122.003325],[6.933395,122.003288],[6.933428,122.003202],[6.933483,122.00304],[6.933528,122.002849],[6.933587,122.00245],[6.933632,122.002084],[6.933675,122.001799],[6.933725,122.001485],[6.933761,122.001286],[6.933766,122.00126],[6.933857,122.00074],[6.933881,122.000603],[6.933927,122.000439],[6.933993,122.000252],[6.934109,122.000008],[6.934259,121.999766],[6.934328,121.99966],[6.934469,121.999444],[6.934609,121.999272],[6.934969,121.998822],[6.935217,121.998509],[6.935384,121.998291],[6.935763,121.997785],[6.935912,121.99759],[6.93607,121.997412],[6.93616,121.997339],[6.936538,121.997111],[6.936979,121.996867],[6.937198,121.996738],[6.937659,121.996471],[6.937851,121.99631],[6.937987,121.996161],[6.938094,121.995972],[6.938151,121.995837],[6.938397,121.995248],[6.938572,121.994783],[6.938602,121.994701],[6.938639,121.99458],[6.938719,121.994292],[6.938784,121.994037],[6.938837,121.993826],[6.938895,121.99355],[6.939013,121.99296],[6.939155,121.992362],[6.939225,121.992122],[6.939318,121.991809],[6.93944,121.991463],[6.939512,121.99132],[6.939597,121.9912],[6.93968,121.991081],[6.939796,121.990951],[6.940054,121.990757],[6.940794,121.990248],[6.941063,121.990058],[6.941281,121.989877],[6.941411,121.989757],[6.941739,121.989465],[6.941964,121.989303],[6.942223,121.98913],[6.942537,121.988951],[6.94286,121.988809],[6.943019,121.988734],[6.94331,121.988589],[6.943422,121.988527],[6.943475,121.988497],[6.943629,121.988396],[6.943727,121.988327],[6.943899,121.988192],[6.944008,121.988103],[6.944085,121.988045],[6.944388,121.987801],[6.944559,121.987663],[6.944679,121.987569],[6.944715,121.987538],[6.944763,121.987496],[6.944803,121.987452],[6.944929,121.987271],[6.945044,121.987097],[6.945075,121.987045],[6.945171,121.986885],[6.94519,121.986853],[6.945299,121.986713],[6.945444,121.986544],[6.945583,121.986428],[6.945695,121.986344],[6.945783,121.986292],[6.94587,121.986241],[6.945948,121.986189],[6.946043,121.986124],[6.94611,121.986062],[6.946177,121.985984],[6.94626,121.985836],[6.946354,121.985605],[6.946407,121.985462],[6.946492,121.9852],[6.946559,121.985006],[6.946745,121.984466],[6.94691,121.984069],[6.947001,121.983876],[6.947087,121.98371],[6.947232,121.983468],[6.947344,121.983327],[6.947465,121.983226],[6.947618,121.983149],[6.947734,121.983106],[6.947839,121.983073],[6.948203,121.982954],[6.948319,121.982918],[6.948391,121.982886],[6.948472,121.982838],[6.948585,121.982766],[6.948685,121.982651],[6.948756,121.982555],[6.948947,121.982264],[6.949081,121.982104],[6.949159,121.981989],[6.949226,121.981903],[6.949335,121.98176],[6.949632,121.981256],[6.949875,121.980838],[6.950163,121.980455],[6.951093,121.979252],[6.951736,121.978566],[6.952021,121.978314],[6.952883,121.977553],[6.953006,121.977444],[6.953051,121.977404],[6.953248,121.977236],[6.953858,121.976726],[6.954835,121.975978],[6.955028,121.975779],[6.955117,121.975644],[6.955245,121.975306],[6.955349,121.975008],[6.955521,121.974488],[6.955553,121.974345],[6.955567,121.974151],[6.955575,121.973885],[6.955574,121.973794],[6.955567,121.972217],[6.955562,121.97209],[6.955558,121.971912],[6.955547,121.971784],[6.955535,121.971669],[6.955509,121.971533],[6.955439,121.971255],[6.955415,121.971166],[6.95536,121.970848],[6.955321,121.970606],[6.955302,121.970294],[6.955285,121.969666],[6.955308,121.968978],[6.955332,121.968013],[6.955274,121.967549],[6.955029,121.966432],[6.954691,121.965132],[6.954369,121.963964],[6.954222,121.963395],[6.954175,121.963162],[6.954127,121.962876],[6.954098,121.962593],[6.9541,121.962541],[6.954122,121.96204],[6.954184,121.960949],[6.954204,121.960697],[6.954223,121.960296],[6.954256,121.959918],[6.954274,121.959792],[6.954342,121.959054],[6.954362,121.958866],[6.954399,121.958642],[6.954471,121.958269],[6.954533,121.958011],[6.9546,121.957788],[6.954742,121.957433],[6.954807,121.957297],[6.955101,121.956675],[6.955489,121.955809],[6.955511,121.95576],[6.955603,121.955527],[6.955664,121.9554],[6.955788,121.955117],[6.955873,121.954948],[6.956475,121.953764],[6.956614,121.953497],[6.956691,121.95335],[6.956756,121.953224],[6.956916,121.952917],[6.95708,121.952604],[6.957158,121.952453],[6.957209,121.952355],[6.957359,121.952068],[6.957382,121.952025],[6.957423,121.951945],[6.957557,121.951687],[6.957649,121.951509],[6.957788,121.951254],[6.957861,121.951093],[6.958124,121.950664],[6.958335,121.950424],[6.958401,121.950369],[6.958461,121.950318],[6.958765,121.950063],[6.959172,121.949798],[6.959392,121.949705],[6.959598,121.949624],[6.960392,121.949402],[6.960414,121.949395],[6.960541,121.949359],[6.960618,121.949337],[6.960738,121.949302],[6.961094,121.949199],[6.961559,121.949064],[6.961684,121.94903],[6.961973,121.948954],[6.962282,121.948871],[6.962323,121.948861],[6.962335,121.948858],[6.962974,121.948692],[6.96336,121.948589],[6.963488,121.948555],[6.963609,121.948523],[6.963894,121.948447],[6.964041,121.948408],[6.964345,121.948327],[6.964537,121.948276],[6.964927,121.948172],[6.965011,121.94815],[6.96506,121.948138],[6.965211,121.9481],[6.965504,121.948032],[6.966903,121.947709],[6.967039,121.947677],[6.96713,121.947656],[6.967479,121.947575],[6.967876,121.947482],[6.968021,121.94744],[6.968378,121.94735],[6.968682,121.947287],[6.96883,121.947248],[6.969014,121.947189],[6.969193,121.947122],[6.96926,121.947084]
];

const ayalaRoute = L.polyline(ayalaRouteCoords, {
  color: "#f97316",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>AYALA - TOWN</strong>");

ayalaRoute.addTo(ayalaRouteLayer);

/* IMPORTANT:
   Attach terminals to the SAME layer
   so the button hides EVERYTHING */
ayalaParadahanLayer.addTo(ayalaRouteLayer);


// -----------------------------
// SAN RAMON - TOWN (FROZEN ROUTE)
// -----------------------------

// 1) Paste the console output HERE (replace [] with the copied coords)
const sanRamonRouteCoords = [
  [6.905615,122.073665],[6.905581,122.073663],[6.905515,122.073673],[6.905185,122.073764],[6.905061,122.073427],[6.905005,122.073268],[6.904975,122.073183],[6.90495,122.07312],[6.904924,122.073009],[6.904826,122.072725],[6.904789,122.072589],[6.904775,122.072477],[6.904773,122.072384],[6.90477,122.071685],[6.904762,122.071339],[6.904941,122.071386],[6.905046,122.071415],[6.905891,122.071648],[6.906147,122.071718],[6.9065,122.071808],[6.90701,122.071935],[6.90706,122.071949],[6.907371,122.072025],[6.907892,122.072184],[6.908009,122.071871],[6.908111,122.071598],[6.908227,122.071324],[6.908301,122.071173],[6.908348,122.071077],[6.908494,122.070866],[6.908651,122.070647],[6.90868,122.070607],[6.908756,122.070496],[6.908899,122.070297],[6.908915,122.070274],[6.909033,122.070114],[6.909124,122.069983],[6.909151,122.069945],[6.90954,122.069419],[6.909808,122.069046],[6.909842,122.06899],[6.910087,122.068629],[6.910363,122.068268],[6.910684,122.067821],[6.910693,122.06781],[6.910705,122.067789],[6.910732,122.067754],[6.910907,122.067517],[6.911012,122.067378],[6.911038,122.067344],[6.911058,122.067317],[6.911118,122.067228],[6.911226,122.067069],[6.911492,122.066691],[6.911706,122.066373],[6.911886,122.0661],[6.912095,122.065763],[6.912135,122.065699],[6.912336,122.065378],[6.912532,122.065084],[6.912661,122.064881],[6.912844,122.064623],[6.912967,122.064434],[6.913103,122.064222],[6.913272,122.063957],[6.913282,122.063942],[6.913399,122.063758],[6.913416,122.063731],[6.913458,122.063665],[6.913807,122.063113],[6.913894,122.062976],[6.914059,122.062713],[6.914266,122.062402],[6.914444,122.062135],[6.914592,122.061913],[6.91481,122.061587],[6.914847,122.061532],[6.914883,122.061478],[6.914935,122.0614],[6.915125,122.061116],[6.915177,122.061038],[6.915273,122.060895],[6.915298,122.060857],[6.915835,122.060054],[6.915911,122.05994],[6.916017,122.059795],[6.916778,122.05876],[6.917185,122.058211],[6.917451,122.05786],[6.917529,122.057761],[6.917932,122.057238],[6.91797,122.057186],[6.918549,122.056402],[6.918648,122.056266],[6.918714,122.056185],[6.918819,122.056052],[6.918906,122.055874],[6.918974,122.055712],[6.918996,122.055639],[6.919085,122.055365],[6.919192,122.055036],[6.919426,122.054076],[6.919479,122.053841],[6.91951,122.053739],[6.919634,122.053276],[6.919662,122.053144],[6.919943,122.051812],[6.920042,122.051351],[6.920119,122.050978],[6.920153,122.050772],[6.920161,122.050727],[6.920166,122.050672],[6.920178,122.050537],[6.920203,122.050287],[6.92021,122.050214],[6.920251,122.049774],[6.92027,122.049603],[6.920281,122.049498],[6.920304,122.049339],[6.920351,122.04883],[6.920385,122.048583],[6.920413,122.048385],[6.920447,122.048163],[6.920467,122.04795],[6.920484,122.047766],[6.920513,122.047536],[6.92059,122.046913],[6.920614,122.046731],[6.920638,122.046548],[6.920687,122.046193],[6.920688,122.046163],[6.920725,122.045908],[6.920731,122.045869],[6.920782,122.045547],[6.920825,122.045287],[6.920886,122.045003],[6.920905,122.044925],[6.920976,122.044642],[6.92099,122.044585],[6.921142,122.044158],[6.921293,122.043724],[6.921339,122.043601],[6.921363,122.043486],[6.921369,122.043341],[6.921368,122.043241],[6.92136,122.043148],[6.921344,122.043029],[6.921252,122.042606],[6.921146,122.042081],[6.920894,122.040903],[6.92083,122.040652],[6.920727,122.040135],[6.920719,122.04002],[6.920721,122.039837],[6.92075,122.03957],[6.920855,122.039014],[6.920873,122.038912],[6.920899,122.038717],[6.920943,122.038391],[6.920968,122.038213],[6.921042,122.037681],[6.921092,122.037381],[6.921154,122.036994],[6.921211,122.036685],[6.92124,122.036578],[6.921248,122.036549],[6.921266,122.036503],[6.921283,122.036457],[6.921344,122.036315],[6.92258,122.033561],[6.923374,122.031809],[6.923934,122.030571],[6.924083,122.030205],[6.92425,122.02984],[6.924297,122.029748],[6.924373,122.0296],[6.924416,122.029501],[6.924658,122.028951],[6.924716,122.028833],[6.924855,122.028522],[6.925128,122.027879],[6.925164,122.027807],[6.9252,122.02772],[6.925276,122.027541],[6.925299,122.02748],[6.925311,122.027451],[6.925365,122.027278],[6.925378,122.027203],[6.925396,122.027097],[6.925396,122.026903],[6.925351,122.026705],[6.925293,122.026504],[6.92521,122.026273],[6.924879,122.02549],[6.924538,122.024645],[6.92451,122.024547],[6.924481,122.02444],[6.924419,122.024204],[6.924411,122.024098],[6.924437,122.023752],[6.924438,122.023726],[6.924478,122.023428],[6.924615,122.022864],[6.924709,122.022484],[6.924788,122.02216],[6.924856,122.021901],[6.92491,122.021676],[6.924928,122.02161],[6.92516,122.020592],[6.925194,122.020447],[6.9255,122.019101],[6.92552,122.019011],[6.925565,122.018808],[6.925853,122.01759],[6.925937,122.017247],[6.925992,122.016973],[6.926067,122.016624],[6.926143,122.01638],[6.926226,122.016166],[6.926378,122.015855],[6.926568,122.015516],[6.926814,122.015096],[6.926921,122.0149],[6.927075,122.014634],[6.927223,122.014379],[6.927516,122.01388],[6.927616,122.013716],[6.927728,122.013519],[6.927861,122.013239],[6.928027,122.012775],[6.928148,122.012358],[6.928232,122.012139],[6.928343,122.011902],[6.928484,122.011655],[6.928572,122.011526],[6.928645,122.011408],[6.928743,122.011247],[6.928834,122.011062],[6.928902,122.010897],[6.928946,122.010786],[6.92922,122.010121],[6.92928,122.009895],[6.929396,122.009328],[6.929429,122.009179],[6.92945,122.00906],[6.929486,122.008863],[6.929559,122.008589],[6.929643,122.008385],[6.929705,122.008271],[6.929778,122.008155],[6.930012,122.00774],[6.930419,122.007031],[6.930645,122.006665],[6.93069,122.006606],[6.930897,122.006287],[6.931039,122.006034],[6.93119,122.005823],[6.931317,122.005683],[6.931735,122.005253],[6.932024,122.004953],[6.932247,122.004728],[6.932411,122.004556],[6.932534,122.00441],[6.932917,122.003957],[6.93304,122.003814],[6.933209,122.003591],[6.93338,122.003325],[6.933395,122.003288],[6.933428,122.003202],[6.933483,122.00304],[6.933528,122.002849],[6.933587,122.00245],[6.933632,122.002084],[6.933675,122.001799],[6.933725,122.001485],[6.933761,122.001286],[6.933766,122.00126],[6.933857,122.00074],[6.933881,122.000603],[6.933927,122.000439],[6.933993,122.000252],[6.934109,122.000008],[6.934259,121.999766],[6.934328,121.99966],[6.934469,121.999444],[6.934609,121.999272],[6.934969,121.998822],[6.935217,121.998509],[6.935384,121.998291],[6.935763,121.997785],[6.935912,121.99759],[6.93607,121.997412],[6.93616,121.997339],[6.936538,121.997111],[6.936979,121.996867],[6.937198,121.996738],[6.937659,121.996471],[6.937851,121.99631],[6.937987,121.996161],[6.938094,121.995972],[6.938151,121.995837],[6.938397,121.995248],[6.938572,121.994783],[6.938602,121.994701],[6.938639,121.99458],[6.938719,121.994292],[6.938784,121.994037],[6.938837,121.993826],[6.938895,121.99355],[6.939013,121.99296],[6.939155,121.992362],[6.939225,121.992122],[6.939318,121.991809],[6.93944,121.991463],[6.939512,121.99132],[6.939597,121.9912],[6.93968,121.991081],[6.939796,121.990951],[6.940054,121.990757],[6.940794,121.990248],[6.941063,121.990058],[6.941281,121.989877],[6.941411,121.989757],[6.941739,121.989465],[6.941964,121.989303],[6.942223,121.98913],[6.942537,121.988951],[6.94286,121.988809],[6.943019,121.988734],[6.94331,121.988589],[6.943422,121.988527],[6.943475,121.988497],[6.943629,121.988396],[6.943727,121.988327],[6.943899,121.988192],[6.944008,121.988103],[6.944085,121.988045],[6.944388,121.987801],[6.944559,121.987663],[6.944679,121.987569],[6.944715,121.987538],[6.944763,121.987496],[6.944803,121.987452],[6.944929,121.987271],[6.945044,121.987097],[6.945075,121.987045],[6.945171,121.986885],[6.94519,121.986853],[6.945299,121.986713],[6.945444,121.986544],[6.945583,121.986428],[6.945695,121.986344],[6.945783,121.986292],[6.94587,121.986241],[6.945948,121.986189],[6.946043,121.986124],[6.94611,121.986062],[6.946177,121.985984],[6.94626,121.985836],[6.946354,121.985605],[6.946407,121.985462],[6.946492,121.9852],[6.946559,121.985006],[6.946745,121.984466],[6.94691,121.984069],[6.947001,121.983876],[6.947087,121.98371],[6.947232,121.983468],[6.947344,121.983327],[6.947465,121.983226],[6.947618,121.983149],[6.947734,121.983106],[6.947839,121.983073],[6.948203,121.982954],[6.948319,121.982918],[6.948391,121.982886],[6.948472,121.982838],[6.948585,121.982766],[6.948685,121.982651],[6.948756,121.982555],[6.948947,121.982264],[6.949081,121.982104],[6.949159,121.981989],[6.949226,121.981903],[6.949335,121.98176],[6.949632,121.981256],[6.949875,121.980838],[6.950163,121.980455],[6.951093,121.979252],[6.951736,121.978566],[6.952021,121.978314],[6.952883,121.977553],[6.953006,121.977444],[6.953051,121.977404],[6.953248,121.977236],[6.953858,121.976726],[6.954835,121.975978],[6.955028,121.975779],[6.955117,121.975644],[6.955245,121.975306],[6.955349,121.975008],[6.955521,121.974488],[6.955553,121.974345],[6.955567,121.974151],[6.955575,121.973885],[6.955574,121.973794],[6.955567,121.972217],[6.955562,121.97209],[6.955558,121.971912],[6.955547,121.971784],[6.955535,121.971669],[6.955509,121.971533],[6.955439,121.971255],[6.955415,121.971166],[6.95536,121.970848],[6.955321,121.970606],[6.955302,121.970294],[6.955285,121.969666],[6.955308,121.968978],[6.955332,121.968013],[6.955274,121.967549],[6.955029,121.966432],[6.954691,121.965132],[6.954369,121.963964],[6.954222,121.963395],[6.954175,121.963162],[6.954127,121.962876],[6.954098,121.962593],[6.9541,121.962541],[6.954122,121.96204],[6.954184,121.960949],[6.954204,121.960697],[6.954223,121.960296],[6.954256,121.959918],[6.954274,121.959792],[6.954342,121.959054],[6.954362,121.958866],[6.954399,121.958642],[6.954471,121.958269],[6.954533,121.958011],[6.9546,121.957788],[6.954742,121.957433],[6.954807,121.957297],[6.955101,121.956675],[6.955489,121.955809],[6.955511,121.95576],[6.955603,121.955527],[6.955664,121.9554],[6.955788,121.955117],[6.955873,121.954948],[6.956475,121.953764],[6.956614,121.953497],[6.956691,121.95335],[6.956756,121.953224],[6.956916,121.952917],[6.95708,121.952604],[6.957158,121.952453],[6.957209,121.952355],[6.957359,121.952068],[6.957382,121.952025],[6.957423,121.951945],[6.957557,121.951687],[6.957649,121.951509],[6.957788,121.951254],[6.957861,121.951093],[6.958124,121.950664],[6.958335,121.950424],[6.958401,121.950369],[6.958461,121.950318],[6.958765,121.950063],[6.959172,121.949798],[6.959392,121.949705],[6.959598,121.949624],[6.960392,121.949402],[6.960414,121.949395],[6.960541,121.949359],[6.960618,121.949337],[6.960738,121.949302],[6.961094,121.949199],[6.961559,121.949064],[6.961684,121.94903],[6.961973,121.948954],[6.962282,121.948871],[6.962323,121.948861],[6.962335,121.948858],[6.962974,121.948692],[6.96336,121.948589],[6.963488,121.948555],[6.963609,121.948523],[6.963894,121.948447],[6.964041,121.948408],[6.964345,121.948327],[6.964537,121.948276],[6.964927,121.948172],[6.965011,121.94815],[6.96506,121.948138],[6.965211,121.9481],[6.965504,121.948032],[6.966903,121.947709],[6.967039,121.947677],[6.96713,121.947656],[6.967479,121.947575],[6.967876,121.947482],[6.968021,121.94744],[6.968378,121.94735],[6.968682,121.947287],[6.96883,121.947248],[6.969014,121.947189],[6.969193,121.947122],[6.969361,121.947026],[6.969569,121.946859],[6.969991,121.946444],[6.970081,121.94637],[6.970233,121.946216],[6.970649,121.945784],[6.971587,121.944885],[6.971748,121.944729],[6.97176,121.944717],[6.972344,121.944181],[6.972423,121.944105],[6.972896,121.943645],[6.973274,121.943296],[6.973748,121.942813],[6.974078,121.942465],[6.974618,121.941864],[6.974932,121.941518],[6.976205,121.940158],[6.977664,121.938615],[6.97891,121.937342],[6.980869,121.935349],[6.981663,121.934554],[6.982714,121.933493],[6.982836,121.933366],[6.98385,121.932335],[6.984039,121.932152],[6.98433,121.931878],[6.984538,121.93168],[6.984783,121.931486],[6.984857,121.931444],[6.985105,121.931301],[6.98529,121.931208],[6.985329,121.931189],[6.986599,121.930585],[6.987693,121.929998],[6.988714,121.929445],[6.988916,121.929355],[6.989961,121.928783],[6.990082,121.928725],[6.990659,121.928384],[6.990708,121.928356],[6.99077,121.928324],[6.99081,121.928302],[6.991731,121.927877],[6.992265,121.927659],[6.992322,121.927637],[6.99245,121.927584],[6.993676,121.92705],[6.993961,121.926923],[6.99525,121.926362],[6.995842,121.926138],[6.996142,121.926022],[6.996681,121.925846],[6.997143,121.925691],[6.997524,121.925559],[6.99766,121.925509],[6.997889,121.925413],[6.998363,121.925221],[6.998759,121.925076],[6.999555,121.924733],[7.00096,121.924116],[7.001214,121.924003],[7.001491,121.923892],[7.00248,121.923473],[7.002743,121.923364],[7.002818,121.923335],[7.004097,121.922795],[7.004685,121.922545],[7.005087,121.922378],[7.005281,121.922298],[7.005458,121.922236],[7.005656,121.922201],[7.005952,121.922209],[7.007057,121.922358],[7.007059,121.922375]
];

const sanRamonRoute = L.polyline(sanRamonRouteCoords, {
  color: "#dc2626",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>SAN RAMON - TOWN</strong>");

sanRamonRoute.addTo(sanRamonRouteLayer);

// Attach terminals so ONE button hides BOTH route + terminals
sanRamonParadahanLayer.addTo(sanRamonRouteLayer);




// -----------------------------
// UPPER CALARIAN - TOWN (FROZEN ROUTE)
// -----------------------------

const upperCalarianRouteCoords = [
  [6.917889,122.056864],[6.91775,122.057043],[6.91797,122.057186],[6.918549,122.056402],[6.918648,122.056266],[6.918714,122.056185],[6.918819,122.056052],[6.918906,122.055874],[6.918974,122.055712],[6.918996,122.055639],[6.919085,122.055365],[6.919192,122.055036],[6.919426,122.054076],[6.919479,122.053841],[6.91951,122.053739],[6.919634,122.053276],[6.919662,122.053144],[6.919811,122.052439],[6.919943,122.051812],[6.920042,122.051351],[6.920119,122.050978],[6.920153,122.050772],[6.920161,122.050727],[6.920166,122.050672],[6.920178,122.050537],[6.920203,122.050287],[6.92021,122.050214],[6.920251,122.049774],[6.92027,122.049603],[6.920281,122.049498],[6.920304,122.049339],[6.920351,122.04883],[6.920413,122.048385],[6.920447,122.048163],[6.920467,122.04795],[6.920484,122.047766],[6.920513,122.047536],[6.92059,122.046913],[6.920614,122.046731],[6.920638,122.046548],[6.920687,122.046193],[6.920688,122.046163],[6.920725,122.045908],[6.920731,122.045869],[6.920782,122.045547],[6.920825,122.045287],[6.920886,122.045003],[6.920905,122.044925],[6.920976,122.044642],[6.92099,122.044585],[6.921142,122.044158],[6.921293,122.043724],[6.921339,122.043601],[6.921363,122.043486],[6.921369,122.043341],[6.921368,122.043241],[6.92136,122.043148],[6.921344,122.043029],[6.921252,122.042606],[6.921146,122.042081],[6.920894,122.040903],[6.92083,122.040652],[6.920727,122.040135],[6.920719,122.04002],[6.920721,122.039837],[6.92075,122.03957],[6.920855,122.039014],[6.920873,122.038912],[6.920899,122.038717],[6.920943,122.038391],[6.920968,122.038213],[6.921042,122.037681],[6.921092,122.037381],[6.921154,122.036994],[6.921211,122.036685],[6.92124,122.036578],[6.921246,122.036556]
];

const upperCalarianRoute = L.polyline(upperCalarianRouteCoords, {
  color: "#0f766e",
  weight: 6,
  opacity: 0.9
}).bindPopup("<strong>UPPER CALARIAN - TOWN</strong>");

upperCalarianRoute.addTo(upperCalarianRouteLayer);

// Attach terminals so ONE button hides route + terminals
upperCalarianParadahanLayer.addTo(upperCalarianRouteLayer);

// =============================
// (5) ROUTE SELECTION UI (highlight + dim others)
// =============================



// Build route buttons from ROUTES
if (routesGrid) {
  routesGrid.innerHTML = "";
  Object.entries(ROUTES).forEach(([key, r]) => {
    const btn = document.createElement("button");
    btn.type = "button";
    btn.className = "btn secondary route-btn";
    btn.dataset.route = key;         // IMPORTANT
    btn.textContent = r.label;

    btn.addEventListener("click", () => {
      // ensure routes layer is visible
      if (!map.hasLayer(allRoutesLayer)) allRoutesLayer.addTo(map);
      // select + dim
      selectRoute(key);
    });

    routesGrid.appendChild(btn);
  });
}



clearSelectedRouteBtn?.addEventListener("click", () => selectRoute(""));




    // Toggle buttons
    let routesOn = true;
    let paradahanOn = true;

    const routeVisibility = {
  tugbungan: true,
  lunzuran: true,
  zambowood: true,
  tetuan: true
};

function toggleRoute(name, layer) {
  if (map.hasLayer(layer)) map.removeLayer(layer);
  else map.addLayer(layer);
}




  document.getElementById("toggleRoutes").addEventListener("click", () => {
  if (map.hasLayer(allRoutesLayer)) {
    map.removeLayer(allRoutesLayer);
  } else {
    allRoutesLayer.addTo(map);
  }
});


const allParadahanLayer = L.layerGroup([
  tugbunganParadahanLayer,
  lunzuranParadahanLayer,
  zambowoodParadahanLayer,
  tetuanParadahanLayer,
  canelarParadahanLayer,
  divisoriaParadahanLayer,
  staMariaParadahanLayer,
  tumagaParadahanLayer,
  pasonancaParadahanLayer,
  baliwasanParadahanLayer,
  mercedesParadahanLayer,
  sanRoqueParadahanLayer,
  ayalaParadahanLayer,
  sanRamonParadahanLayer,
  upperCalarianParadahanLayer
]).addTo(map);

document.getElementById("toggleParadahan").addEventListener("click", () => {
  if (map.hasLayer(allParadahanLayer)) {
    map.removeLayer(allParadahanLayer);
  } else {
    allParadahanLayer.addTo(map);
  }
});




  // Optional: focus map to selected route
  if (selectedRouteKey) {
    const selLayer = ROUTES[selectedRouteKey]?.layer;
    if (selLayer) {
      let bounds = null;
      selLayer.eachLayer(l => {
        if (l.getBounds) bounds = bounds ? bounds.extend(l.getBounds()) : l.getBounds();
      });
      if (bounds) map.fitBounds(bounds.pad(0.2));
    }
  }

// Open/close panel
routesMenuBtn?.addEventListener("click", () => {
  routesPanel.style.display = "block";
});
routesCloseBtn?.addEventListener("click", () => {
  routesPanel.style.display = "none";
});

// Build buttons
if (routesGrid) {
  routesGrid.innerHTML = "";
  Object.entries(ROUTES).forEach(([key, r]) => {
    const btn = document.createElement("button");
    btn.type = "button";
    btn.className = "btn secondary route-btn";
    btn.dataset.route = key;
    btn.textContent = r.label;

    btn.addEventListener("click", () => selectRoute(key));
    routesGrid.appendChild(btn);
  });
}

// Clear selection button
clearSelectedRouteBtn?.addEventListener("click", () => selectRoute(""));


// Search UI
const input = document.getElementById("searchInput");
const list = document.getElementById("resultsList");
const noResults = document.getElementById("noResults");
const count = document.getElementById("resultsCount");

// -----------------------------
// SEARCH DROPDOWN (Paradahan)
// -----------------------------
const dropdown = document.getElementById("searchDropdown");
const resultsList = document.getElementById("resultsList");
const noResultsEl = document.getElementById("noResults");
const resultsCountEl = document.getElementById("resultsCount");
const searchInput = document.getElementById("searchInput");

function openDropdown() {
  if (dropdown) dropdown.style.display = "block";
}

function closeDropdown() {
  if (dropdown) dropdown.style.display = "none";
}

function clearResultsUI() {
  if (resultsList) resultsList.innerHTML = "";
  if (resultsCountEl) resultsCountEl.textContent = "0";
  if (noResultsEl) noResultsEl.style.display = "none";
}

function renderResults(items) {
  if (!resultsList) return;

  resultsList.innerHTML = "";

  if (resultsCountEl) resultsCountEl.textContent = String(items.length);

  if (items.length === 0) {
    if (noResultsEl) noResultsEl.style.display = "block";
    return;
  }

  if (noResultsEl) noResultsEl.style.display = "none";

  items.forEach(item => {
    const row = document.createElement("button");
    row.type = "button";
    row.className = "search-result-row"; // add CSS if you want
    row.innerHTML = `
      <div class="sr-title">${item.name}</div>
      <div class="sr-sub">${item.desc ?? ""}</div>
    `;

row.addEventListener("click", () => {
  searchInput.value = item.name;
  closeDropdown();

  focusStop(item); // <-- dims other routes + other paradahan
});

    resultsList.appendChild(row);
  });
}

searchInput?.addEventListener("keydown", (e) => {
  if (e.key === "Enter") {
    // If exact match exists, focus it
    const q = searchInput.value.trim().toLowerCase();
    const exact = markerIndex.find(p => (p.name || "").toLowerCase() === q);
    if (exact) focusStop(exact);
  }
});

searchInput?.addEventListener("input", () => {
  // If user deletes everything, reset dimming
  if (!searchInput.value.trim()) clearAllDimming();
});

function doSearch(q) {
  const query = (q || "").trim().toLowerCase();

  // If empty: hide dropdown and clear
  if (!query) {
    clearResultsUI();
    closeDropdown();
    return;
  }

  // Filter ONLY paradahan items (your markerIndex is already paradahan)
  const matches = markerIndex
    .filter(p => (p.name || "").toLowerCase().includes(query))
    .slice(0, 12); // limit results

  renderResults(matches);
  openDropdown();
}

// Listen typing
searchInput?.addEventListener("input", (e) => {
  doSearch(e.target.value);
});

// Open dropdown when focusing (if there is text)
searchInput?.addEventListener("focus", () => {
  if (searchInput.value.trim()) doSearch(searchInput.value);
});

// Close dropdown on outside click
document.addEventListener("click", (e) => {
  const wrap = e.target.closest(".search-wrap");
  if (!wrap) closeDropdown();
});

// Close dropdown on Escape
document.addEventListener("keydown", (e) => {
  if (e.key === "Escape") closeDropdown();
});


  </script>

  </body>
  </html>